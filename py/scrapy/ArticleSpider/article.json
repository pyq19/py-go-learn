{"front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1fdnc0d4hz3j20qy0b4dky.jpg"], "praise_nums": "2", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zumagia\">Ree Ray</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://www.folklore.org/StoryView.py?project=Macintosh&amp;story=A_Rich_Neighbor_Named_Xerox.txt\">Andy Hertzfeld</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img class=\" wp-image-62047 aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1fdnc01cmv7j20sb0rdwkr.jpg\" alt=\"xerox-star\" width=\"503\" height=\"486\"></p>\n<p style=\"text-align: center;\"><strong>施乐（Xerox）的 Star 电脑影响深远</strong></p>\n<p>当史蒂夫·乔布斯（Steve Jobs）找微软作为 Macintosh（麦金塔电脑）的首个第三方应用软件开发者时，他就思考过他们可能会把苹果的创意复制到基于 PC 机的用户界面上。作为早期能为 Macintosh 开发的条件，斯蒂夫要微软保证至少在 Macintosh 首发（first shipment）的一年内，不能发行任何鼠标应用软件。</p>\n<p>微软的主系统程序员 Neil Konzen 被分配到了 Mac 项目，这个年轻有为的 Apple II（苹果第二代电脑）黑客成长于西雅图的郊区。当他还是个高中生的时候，就已经开始为微软工作了，并且他独立地为成功的 Z80扩展卡（可以使 Apple II 运行 CP/M 系统的软件）编写了系统软件。</p>\n<p>因为 Neil 对苹果（Apple）的喜爱，微软顺理成章地把他分配到这个既新奇又高度机密的 Macintosh 计划。尽管 Macintosh OS（麦金塔电脑操作系统）迅速迭代，他依然尽职地集成微软基于字节码（byte-code）的解释环境（interpreted environment）（实际上复制自施乐注重内存效率甚于执行速度的系统，这恰好适合 Mac 有限的内存）。因此 Neil 跃居为微软在 Mac 系统技术细节方面的专家。</p>\n<p>到 1983 年中期，微软已经能很好地向我们展示他们正在进行的电子制表软件（spreadsheet）与商务图形软件的原型：Multiplan 和 Chart（他们也在研究文字处理机，但却避而不谈，因为这会与 MacWrite 造成竞争）。我每周会花上一些时间和 Neil 通电话。他有时会要我给出实现部分的特性或者抱怨已经实现的方法。但大多数时候我会回答他关于正在复杂迭代的 API 的提问。</p>\n<p>我渐渐开始发现 Neil 会问一些他不需要清楚的实现细节。尤其是他对于每个区域的所代表和实现的功能都充满好奇，还常常对此详述他的认识，希望得到我的证实。</p>\n<p>撇开求知欲不谈，除非你想实现自己的版本，否则没有理由关心系统的内部构件。我告诉史蒂夫我怀疑微软企图克隆 Mac，但他并不担心，因为他不认为他们有能力完整地（decent）实现，即使有 Mac 作为借鉴。</p>\n<p>1983 年 11 月的时候，我们听到微软在 Comdex（业内首屈一指的交易展，一年在拉斯维加斯举办两次） 宣布了惊人的消息：他们介绍了一款全新的、使用鼠标的图形用户界面——Windows，这直接和 Personal Software 早期推出的 Vision 竞争。此外，他们还推出了额外的鼠标应用软件——Microsoft Word。当史蒂夫之知道 Windows 后，暴跳如雷。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/63918611gy1fdnc0d4hz3j20qy0b4dky.jpg\"></p>\n<p style=\"text-align: center;\">（比尔盖茨和乔布斯，额外配图）</p>\n<p>“立刻让盖茨到这里来！”他怒气冲天地对 Mac 初期的布道师（original evangelist），也是处理我们和第三方开发者关系的 Mike Boich 说，“他必须给我解释，最好能让我满意。叫他明天下午来这里，不然的话！”</p>\n<p>出乎意料的是，第二天下午我也被邀请到会议室参加会议。在那里，比尔·盖茨（Bill Gates）必须独自当着 10 个苹果员工的面解释。我想史蒂夫是想让我证明 Neil 询问过内部构件的事，但他并没有这样做，所以当史蒂夫开始对比尔大吼，质问他为什么要破坏协议的时候，我变成了一个奇特的（fascinated）观察者。</p>\n<p>“你剽窃了我们！”史蒂夫咆哮道，并提高了声调。“我信任你，但你却正在抄袭我们！”</p>\n<p>比尔·盖茨开口之前，只是很平静地站在那，直视着史蒂夫。</p>\n<p>“史蒂夫，我觉得应该用另一种方式看待这个问题。这就像我们有个叫施乐的有钱邻居，当我闯进去想偷走电视时，却发现你已经这么干了。”</p>\n<p>不幸的是，事实证明微软在 1981 年签署的协议中约定，他们不能在 Mac 开售一年内发布鼠标应用软件，所以到 1983 年 9 月的时候已经到期了。因为 1981 年后期时我们认为 Mac 应该会在 1982 年秋发行，所以我们傻到没有顺延（float）协议中的发行日期。因此微软完全有权推出 Windows。由于苹果依然需要微软为 Macintosh 提供应用，所以史蒂夫无法从中把它们砍掉。</p>\n<p>微软一直没能发布 Windows。直到两年后，也就是 1985 年秋天，Windows 1.0 才发布。但它实在很粗糙，如史蒂夫所料，只有 Mac 的皮毛。它甚至连窗口重叠的功能都没有，取代的是所谓“并列式窗口（tiling）”的技术。几个月后，颓势已经很明显了，比尔·盖茨解雇了实施团队并从头开始制作新的版本，正是由 Neil Konzen 所带领。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1fdnbexx83ej20wi0hrdk9.jpg\"></p>\n<p>Neil 负责的 Windows 版本在几年后发布，优秀到让苹果在 1988 年申请了永久版权诉讼来抗衡微软，但他们最终还是失去了独特性（technicality）（这个官司认定苹果在 1985 年 11 月无意中给与了微软 Mac 用户界面的永久许可证）。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/a506abb819712f3ff382705191f99fd3.png\">\n            \n                            <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/1b97911a419986c1b5901239023b587e.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110434\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110434votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110434\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zumagia\">Ree Ray</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zumagia\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/08/5ae0c1c8a5260bc7b6648f6fbd115c35.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            学习Python        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zumagia\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zumagia/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zumagia/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 17</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "趣文小说,Xerox,微软,苹果", "front_image_path": "full/b9e933f040c62d2fe74541e8f0f3afee2e0a48fd.jpg", "title": "我们有一个富邻居，他叫施乐", "url": "http://blog.jobbole.com/110434/", "url_object_id": "09304ef8f9d30b76ef0c6ae5ad2a8c2a", "create_time": "2017/03/15", "comment_nums": 0, "fav_nums": 1}
{"front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1fdd7ievjs6j20je0b474b.jpg"], "praise_nums": "3", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/qingfeng6438\">阿慧</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/dating-a-programmer-d302693d10f5#.vqfrwf4t3\">Ms_Teerious</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><em><img class=\"alignnone aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fdd7ievjs6j20je0b474b.jpg\" width=\"498\" height=\"285\"></em></p>\n<p style=\"text-align: center;\"><em><span style=\"color: #808080;\">是的！那就是他，以及他的最爱，还有你。（注意他手中的笔记本电脑）</span></em></p>\n<p>我最近读了一篇关于《<a href=\"http://blog.jobbole.com/110595/\" target=\"_blank\">为什么该和程序员约会？我有 20 个理由</a>》的文章。 ……当然了，那篇文章就是程序员写的（你刚刚在期待是什么人写的？以为是其他女生写的？😂😂😂 ）。</p>\n<p>那些理由是真的。未来可能成为程序员女友的朋友，让我来告诉你们，和程序员约会实际上意味着什么！我是过来人，我男朋友就是一个程序员！ 首先，让我们来定义一下什么是「程序员」。</p>\n<p>程序员、计算机程序员、开发者、 码农或软件工程师，指的是那些从事编写计算机软件的人。计算机程序员这一称呼可以指一个领域的专家，或是为多种软件编写代码的通才。 请看我刚刚定义的这类人。😂</p>\n<p><img class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/mw690/7cc829d3gy1fdd7ij7y9kj208w0aqjrz.jpg\" width=\"320\" height=\"386\"></p>\n<h3>1、他们智商虽高，但却恼人</h3>\n<p>如果不是聪明人，则不能够胜任做他们的女朋友，因为跟不上运行在他们脑中和笔记本电脑屏幕上的所有东西。在程序员和同事谈话的时候，你往往觉得一头雾水。你曾见过程序员们集中在一起，谈论编程的事情吗？天呐！我听过太多的 PHP 和 Laravel 之类的。</p>\n<h3>2、你要下定决心在关系中扮演次要角色</h3>\n<p>因为电脑总是主角。一旦开始和程序员约会，则是同时与他的电脑约会。这是我的应对机制。</p>\n<h3>3、所有事情都和代码有联系！</h3>\n<p>你和他谈论蛋糕（Cake），而他可能想到 CakePHP 。</p>\n<p><img class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fdd7ingvqfj20bo0bo40z.jpg\" width=\"420\" height=\"420\"></p>\n<h3>4、如果你不是一个忙碌的人，或没有事可做，那你别和程序员约会</h3>\n<p>因为如果你想寻找百分百的关注，那绝对是奢求。他将花费数小时来调试，一旦他“沉浸在代码中”，不要打扰！ <strong>你在旁边问你的新衣服是否好看合身，而他却在寻找那个遗漏的分号。</strong></p>\n<h3>5、程序员通常对他们的职业很满意</h3>\n<p>这就是问题所在了。他们太高兴了，导致忘了你才应该是高兴之源泉。</p>\n<p><em><img class=\"alignnone aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fdd7irardhj206k06kglz.jpg\" width=\"236\" height=\"236\"></em></p>\n<p style=\"text-align: center;\"><em><span style=\"color: #808080;\">在这种情况下，是他们的电脑！！！</span></em></p>\n<h3>6、程序员的「T 恤和牛仔裤」综合征</h3>\n<p>我不是唯一对此抓狂的女生。我的意思是，T 恤和牛仔裤是程序员的正式服装（标配）。逛商场里时候， T 恤和牛仔裤；看电影的时候， T 恤和牛仔裤；探望别人的时候， T 恤和牛仔裤……然后他们匆匆穿上连帽衫，并且觉得自己的穿着与以往截然不同，但其实里面穿的还是 T 恤和牛仔裤。</p>\n<h3>7、如果你不是一个有耐心的人，则不能和程序员约会</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d47daf38601396758155\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n程序员：「宝宝，给我 30 分钟时间整理代码，30 分钟后我打给你。」\r\n———24 小时后———\r\n程序员：「宝宝，很抱歉，我忙着写代码，忘了时间。」</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d47daf38601396758155-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d47daf38601396758155-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58d47daf38601396758155-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d47daf38601396758155-1\">程序员：「宝宝，给我<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">30</span><span class=\"crayon-h\"> </span>分钟时间整理代码，<span class=\"crayon-cn\">30</span><span class=\"crayon-h\"> </span>分钟后我打给你。」</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d47daf38601396758155-2\">———<span class=\"crayon-cn\">24</span><span class=\"crayon-h\"> </span>小时后———</div><div class=\"crayon-line\" id=\"crayon-58d47daf38601396758155-3\">程序员：「宝宝，很抱歉，我忙着写代码，忘了时间。」</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>哎！这句话我听过无数次了。</p>\n<h3>8、如果你是那种渴望被关注的人，还是放弃吧</h3>\n<p>如果你在同程序员交往，你需要知道如何给予自己关注，并且保持伴侣的事业。上午12点，他们在编程！ 凌晨3点 ，仍然在编程， 在机场，在旅行过程中，依旧在编程。</p>\n<h3>9、生日、情人节、周年纪念日的礼物</h3>\n<p>这些是同程序员交往中最难的部分。我的意思是，你不能决定是否接受正常人的物品或是同程序有关的一些东西。请查看我在十月份的 Google 搜索历史“给程序员男朋友的最好礼物”。</p>\n<h3>10、同程序员交往，自然而然你也成了半个程序员</h3>\n<p>所以，当他开始谈论 PHP 、 Laravel 、开源项目时。你实际上可以参与……这也拉近你们的关系。</p>\n<h3>11、他们有激情，把时间和精力集中在可以俘获他们心的事情上：编程！</h3>\n<p>哦？你以为我要说的是你吗？再想想吧！😂😂😂</p>\n<h3>后话</h3>\n<p><span style=\"font-weight: normal;\">关于程序员我有数不尽的话题，不过还是留些话题下次再讲吧。</span></p>\n<p><span style=\"font-weight: normal;\">虽然钱在滋润你的愚蠢，并且使你自认为像是世界上唯一的女人，同程序员交往不是所有的乐趣和游戏。</span></p>\n<p>然而，最佳的交往对象还得说是程序员，因为他们没时间出轨。唯一和你争宠的对象甚至都不是个活物（除非他给自己的笔记本起了个人类的名字，那你可就惨咯）。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/7cc829d3gy1fdd7iwnytlj20go0b37c2.jpg\" width=\"600\" height=\"399\"></p>\n<p>亲爱的程序员男朋友：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/7cc829d3gy1fdd7j86afcj20fo0bt0v2.jpg\" width=\"564\" height=\"425\"></p>\n<p><span style=\"color: #808080;\">……我甚至不是个程序员！！！</span></p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/f9e94e087837b17681c87206c9d540dd.png\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/748ed21a8038cdafa65b3b4ab9a0185a.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110485\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110485votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110485\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 8 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/qingfeng6438\">阿慧</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/qingfeng6438\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/c169e93746e89947e9a2f0fce3f937cc.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            什么东西没头没尾没中间？        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/qingfeng6438\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/qingfeng6438/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/qingfeng6438/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 14</a> · <a title=\"QQ：1305735677\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：chenahui1996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "趣文小说,恋爱,约会", "front_image_path": "full/3f55539505b6e2577a8c40aaf3f5219090f21ec9.jpg", "title": "和程序员谈恋爱，是什么样的体验", "url": "http://blog.jobbole.com/110485/", "url_object_id": "a851d4a90cc43051a073758b83fc78ff", "create_time": "2017/03/21", "comment_nums": 8, "fav_nums": 1}
{"front_image_url": ["http://wx1.sinaimg.cn/mw690/63918611gy1fdtb3cb7n6j20sg0j0wff.jpg"], "praise_nums": "3", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://prog3.com/article/1970-01-01/292096\">prog3.com</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p class=\"p0\">【伯乐在线导读】：本文要讨论的健康问题，其实并不仅仅限于程序员，其他那些需要长期坐在电脑前的工作，比如：网络编辑、网站管理员、IT 从业人员等，也会面临同样的健康问题。本文目的就是要让业界的朋友们对自己面临的健康问题引起关注。</p>\n<p class=\"p0\">Zed Shaw，程序员，吉他手，作家，《笨方法学 Python》的作者。</p>\n<p class=\"p0\"> <img class=\"alignnone aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1fdtb36v11oj208c08c0v2.jpg\" width=\"300\" height=\"300\"></p>\n<p class=\"p0\" style=\"text-align: center\">（本文作者：Zed Shaw ）</p>\n<p>我在最近几次的博客中谈论了《Python The Hard Way Learn | 笨方法学 Python》这个话题，现在我想再开一个新话题：<span style=\"color: #ff0000\"><strong>程序员在职业生涯中可能遇到的健康问题</strong></span>。</p>\n<p>我发现很多程序员都认为敲代码对他们的身体健康貌似没什么影响。我真的非常希望，大家能对程序员面临的健康问题引起重视并从中获益，至少不要像我和其他一些人一样，身体犯了毛病才去后悔。这个话题我应该不会写到我的书里，因为要展开的话内容太多。但是我会在这里写一个“简短版”。你可以对号入座看看自己的情况，也可以参考一下我引用的的那些资料。</p>\n<h3>我的背景和专业</h3>\n<p>我曾经是一名美国军人，并练习过多种武术。最近，我不太痴迷于那些“硬武术”了，但是对于瑜伽，冥想等这些简单的身体活动还是很喜欢的。我的身体非常健美，并且能做到保持，这要感谢我长期以来养成的习惯。首先我还是快速列举一下我学过的武术项目吧：忍术、合气道（一种日本武术技艺——译者注）、柔道、巴西柔术、泰拳、翼宗拳、卡泼卫勒（一种巴西自卫术——译者注）、菲律宾魔杖术，上述的这些武术并不是按照系统训练一样连续学习的。而我一直坚持训练的武术只有泰拳，大约持续了6年。其他的大概也就是各自学了个一到两年的样子。</p>\n<p>我去过很多地方，也从中学到了很多东西。并且，我在军队服役的时候，大约有连续两年的时间，我的身体受到了严格的考验。如果我记得没错的话，在军队里的训练每次会持续2到4小时，除此之外别无他事。以至于后来，即使处于休假状态，我也会保持体重，敏捷性和身体力量。我可能没法告诉你该怎么减肥。因为我生来就不需要减肥。所以在参考我的建议时，你一定要结合自身的情况。在了解我的身体状况以后，随着年龄的增长，我开始在身体柔韧性上下功夫。游泳、舞蹈以及一切避免直接身体冲撞的运动都是我推荐的。我尤其推荐普拉提，瑜伽，这些运动往往被众人认为很难，但实际上并不是如此。我还对我的手下了很多功夫，一会儿我就会说这个事情。</p>\n<p>写了这么多，是为了让读者了解我的能力。但是更重要的是，在做到我上面说的这些的同时，我还是一个职业程序员。在我从军队退役以后，我平均每天学习8到16小时。此外我还弹吉他，并且我避免了腕管综合征和重复性劳动损伤的危害。我希望我在健康方面的经验能够帮助你恢复或者维持你的健康。</p>\n<h1>程序员面临的普遍问题</h1>\n<p>程序员是一种在劳损方面欺骗性很强的职业，部分因为是这个职业看上去只是坐在那里，什么体力也没有消耗，并且很多程序员对他们的身体情况也毫不重视。不过你真的应该留意一下健康问题，因为如果你身体非常棒，那么在心理方面你也会非常和谐，进而你就可以把精力放在更重要的事情上。否则你还要去担心那些恼人的健康问题，这是非常不爽的。</p>\n<p>很显然，“注意饮食”、”多去户外”、”注意运动”这些老生常谈的东西肯定是正确的。所以这里我不跟你谈吃、运动或者练武术能保持健康什么的。如果你对运动或者武术感兴趣，你可以去找专业的教练来指导你。</p>\n<p>我真正想说的是，因自身职业原因，程序员可能面临的那些健康问题。这些问题的成因都非常简单明显，稍加注意根本就不会发生，不过程序员们却并没意识到这一点。</p>\n<ul>\n<li>因重复性劳损导致的手腕疼痛</li>\n<li>因长期盯着滚动的屏幕造成的眼部问题</li>\n<li>因为坐姿不对（尤其是背部太低或者肩膀太高）造成的背部问题</li>\n<li>因为该去厕所的时候不去造成的肠道和泌尿系统问题</li>\n<li>因为喝水不够或者喝了太多咖啡而造成的脱水问题</li>\n<li>因为久坐而造成的痔疮或者前列腺问题。是的，我也面临这个问题。</li>\n<li>因为接触阳光不足造成的缺乏维生素D</li>\n<li>因熬夜或者喝太多咖啡造成的睡眠失调</li>\n<li>因缺乏伸展而造成的身体僵硬或酸痛</li>\n</ul>\n<p>我也曾经在一段时间内面临过上述的各种健康问题，因为我的程序员工作，弹吉他以及不太科学的举重锻炼。后来我解决了大多数的健康问题，并保证以后不会再犯，只有少数几个问题需要周期性地解决。也许你觉得这些健康问题很愚蠢，不过相信我，即使你没有，很多程序员也会面临这些问题的困扰。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fdtb3cb7n6j20sg0j0wff.jpg\" width=\"540\" height=\"361\"></p>\n<h1>主要原因：</h1>\n<p>总的来说，这些健康问题的成因可以归结为对于编程的“着魔”。如果你想要成为优秀的程序员，就像我想要的那样，你就要排除其他一切干扰去掌握编程技术。这样即使你编程10个小时也不会想到要去洗澡，你也不会按时吃饭，这些行为模式都源自于你对“成为真正程序员”的疯狂信仰。</p>\n<p>实际情况是，真正的程序员其实和啥子没什么区别。你不按时吃饭，甚至连定期啪啪啪都做不到。你跑两步就开始喘。你的体内器官出现问题，但却并不是因为疾病。说实话，为了成为一个优秀程序员而把自己弄垮，可不是什么值得的事情。</p>\n<p>所以，当你了解到我是如何解决这些健康问题的时候，记住最重要的是要在生活和编程、工作之间保持平衡。相信我，如果你能放松心态保持健康，你在编程方面甚至能做到更好。</p>\n<h1>手腕疼痛</h1>\n<p>这个问题大概是我最常见的一个健康问题。因为我既是程序员又是吉他手，我经常弹吉他并且弹奏的时间很长。从22岁我成为程序员开始，我就周期性地遭受手腕疼痛的困扰。不过我通过合气道练习来有效地治疗手腕疼痛。</p>\n<p>如你所知，合气道技术中有很多神奇的手腕练习动作，比如拉伸、撕扯、反向关节技等等，能让你的手腕变得既强壮又柔韧。</p>\n<p>我就是通过这些练习来修复关节错位和疼痛问题，并且靠这种练习做到了长时间编程且不造成手腕劳损。我唯一一次遇到问题是因为我换了个新键盘，新键盘的按键布局非常怪异，所以造成我打字以后手腕很疼。但是通过一周的手腕练习以后，我的手腕就又变得很强壮了，问题迎刃而解。</p>\n<p>当然，如果你现在患有严重的腕管综合症或者其他类型的重复性劳损症，在尝试自主练习恢复之前还是要咨询一下医生。如果你已经开始自我恢复练习了，那么注意要慢慢来，不要伤到自己。拉伸动作太大造成伤害就不好了，拉伸只要做到“稍微不适”的程度即可。如果你真的把自己拉伤了，那么就不要这么做了。</p>\n<p>其实每次拉伸对你来说就是一种“放松”。这很难用语言解释，你把关节强制掰到某个位置，其实是让关节能够到达这个位置然后放松，或者说是能让你关节的活动范围更多一点点。</p>\n<p>记住这个理念，下面的这些视频能为你演示如何做这些关节方面的练习</p>\n<ul>\n<li>Reverse Wrist 反向腕关节练习</li>\n<li><a href=\"http://www.ehow.com/video_2354920_twisting-wrist-aikido-stretch.html\">Twisting Wrist腕部扭动练习</a></li>\n<li><a href=\"http://kiwi.kz/watch/32max3wdu3ha\">Bent Wrist Fingers Out 腕部和手部向外弯曲练习</a></li>\n<li>Bent Wrist Fingers Down 腕部和手指向下弯曲练习</li>\n</ul>\n<p>下面就向你解释了在你久坐打字之前如何去开展这些练习：</p>\n<ol>\n<li>首先，你要做一下热身，把你的双手放在身体前部，然后快速地做抓空气的动作，重复20次，越快越好。然后抖抖手腕放松一下，接着转动你的手腕，正向和反向各10次。</li>\n<li>挑一个你最擅长的练习模式作为开始，然后用中等速度做5-10组。</li>\n<li>继续做其余的练习，每做完一个练习就抖抖手和胳膊，转动手腕，让关节重新复位。因为这些练习都是涉及到关节的，所以每组做完了以后让关节复位很重要。</li>\n<li>一定不要给你的手腕施加太大的压力。练习就做到刚刚让关节感觉到变化并放松即可。传说中的“练得越狠收获越大”只会让你受伤。</li>\n</ol>\n<p>每次你开始打字之前都要做运动，每天都要坚持，不过中途随时可以停下来。这些运动不会占据你很多时间，一开始可能有点不适，但是很快你的手腕就开始适应这种“复位”锻炼了，然后你的感觉就会好很多。</p>\n<p>有件事情要再强调一次：<span style=\"color: #ff0000\"><strong>开始锻炼之前先咨询医生</strong></span>。擅自开始进行锻炼是存在风险的，所以如果你自己把自己弄伤了可不要怪我没提醒你啊。这些练习在千年的武术套路中已经不断加以实践了，所以我知道它们是安全的，不过“安全”这个概念因人而异。如果你做得不对，真的可能会伤到自己。所以先跟你的医生谈谈，然后再考虑开始练习的事情。</p>\n<h2>吉他手的情况更糟：</h2>\n<p>如果说程序员都会因为职业原因而患上腕管综合症的话，那么吉他手和贝斯手的情况就更加糟糕了。对很多人来说，一些大腕音乐家声称自己“每天练琴8小时”，“每天练琴16小时”，这让人感到神秘。因为这种负荷的练习会让这些大牌吉他手严重损伤自己的健康，甚至可能让他们以后永远都没法再弹琴了。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fdtb3hvosbj20sg0j03zv.jpg\" width=\"540\" height=\"361\"></p>\n<p>吉他对你的手来说真是要求很高的乐器，所以你的手只要有一点点疼痛就能让你弹不了吉他。我是在学校里明白这个道理的，当然我当时是个白痴什么都不懂，我相信我的导师告诉我的话，每天弹8小时。我就照着字面的意思，每天连续弹8小时，结果是一个月下来，我的手快废了。</p>\n<p>我的大拇指长出故此，其他的手指也基本没法看了。我的手腕僵硬，手指也不能灵活运动了。我当时就是不听劝告，其实任何新事物都应该循序渐进的，就像健身一样。</p>\n<p>我花了一年半的时间来恢复，其间做了如下的事情：</p>\n<ol>\n<li>找了一把合适的吉他，不伤手的。“什么吉他都一样，没区别”这种观念简直是屁话。你需要找一把不会伤你手的吉他。</li>\n<li>做上一节提到的各种联系，尤其是针对手指部分的。</li>\n<li>通过一套练习来慢慢增加我的手指和大拇指的力量以及柔韧性。</li>\n<li>坚持专注于用更放松的方式来演奏，这样我的按弦动作就会更轻。</li>\n<li>注意手腕弯曲程度，避免受伤。</li>\n<li>改变演奏姿势，使得我在快速的演奏中不用紧握吉他，让我的按弦手的大拇指在琴颈背后的位置更加舒服。</li>\n<li>调整吉他的高度，使得肩膀和手在拿吉他演奏时更加舒适。</li>\n<li>坚持站立演奏，尽量减少坐着演奏的时间，因为坐着演奏的姿势很奇怪。如果一定要坐着演奏，那么要经常更换坐姿。</li>\n</ol>\n<p>做出这些调整后，去年我的手终于感觉好了很多，然后恢复了，不过为了不让我自己再受伤，我也有不少损失。我是个老家伙了，这些保护措施对我来说很重要，但是也意味着那些可能伤到手的事情，我再也不能做了。</p>\n<p>我的手就是我的生命，这意味着拳击、卡泼卫勒，还有那些其他我感兴趣的武术都不能再做了。我可不能让我的手浪费在击打沙袋这种活动上。</p>\n<h1>眼疲劳：</h1>\n<p>我想这对我来说并不是什么大问题，但是读者则需要时刻注意自己的视力。我年轻的时候视力测验是20分满分，但是这么多年来盯着电脑让我的视力有了“些许下降”。我有一副轻度视力矫正眼睛，这些天我一直戴着，哪怕有时候我不需要很仔细看东西的时候我也戴着。对于我来说，世界稍微有一点模糊都是很烦人的。</p>\n<p>早年的时候，大家还整天在用CRT显示器，老显示器的闪烁废了很多人的视力。那时候也有液晶显示器，但是对字体的渲染效果非常糟糕。感谢苹果的专利（我觉得是苹果的专利）让电脑能够在液晶显示器上正常渲染字体。当然还是有很多人认为苹果的字体渲染看上去有点“模糊”，如果是这样的话，那只能说你没能体验到我对字体渲染改进的欣喜。</p>\n<p>我的情况是，我每天花两小时时间，完全不看电脑。取而代之的是我用这些时间来做一些完全不用眼的事情，比如弹吉他，或者出去散个步什么的。这些事情我一次可能做不满2小时，但是我保证我每天离开电脑至少达到2小时。</p>\n<p>这种做法对缓解头疼很有效。程序员经常抱怨说屋子里的灯光是导致头疼的原因，但实际上，错误的字体，屏幕上糟糕的字体，喝水不够以及长时间坐在电脑前面不运动，才是导致头疼的真正原因。</p>\n<p>如果真的在意灯光的因素，那么与其去做一些极端的事情（有的程序员真的把办公室里的所有灯都关了），还不如调整一下屋里的采光，以及把你的桌面主题调节成适合显示器型号和屋内光线的模式。合理调配屋内的光线，显示器亮度，显示质量，字体以及桌面主题颜色，会让你的感觉好很多。</p>\n<p>但最重要的是，一定要按时休息。</p>\n<h1>背部问题：</h1>\n<p>我真的非常幸运，大部分的时间里我的背部都很健康。甚至是在我久坐在椅子的那部分时间里，我的背部都很强壮而且柔韧性很好。</p>\n<p>对我来说，问题在于背的上半部，脖颈以及肩膀。我习惯支起键盘，促使我的身体坐直。实际上在我开始打字的时候我注意到我并没有坐得很直，所以我需要迫使自己改正。</p>\n<p>现在看来，对椅子的选择很重要，我比较推荐 Aeron 办公椅，板凳或者长凳那种。我现在很喜欢我的40美元的钢琴凳，我练习钢琴的时候就用它。凳子没有靠背，所以我必须让自己坐直，这就会用到我的核心肌肉（腹肌和背部肌肉）。</p>\n<p>我的肩膀一直比较紧张。在我注意力很集中的时候，我的肩膀处于缩紧的状态，导致我的整个上背部产生疼痛，并通过神经一直向上传导到我的脖子和头。如果我练习吉他的时间过长，这个问题会变得非常严重。</p>\n<p>然后我找到的最有用的办法是上肢伸展运动和俯卧撑。上肢运动的做法是，抓住门框，然后把一直手臂或者两只手臂朝一个不同的方向拉。如果你的手臂僵硬，你可以尝试如下的动作：</p>\n<ol>\n<li>用一直手抓住门框，手掌面向自己，然后把肩部往外拉，这样就可以拉伸你的胸部以及你肩部的前侧。</li>\n<li>用一只手抓住门框，让你的手臂与身体交叉（请自行脑补姿势——译者注），保持手掌朝向身体（某种反向的姿势），然后拉动肩膀，使得肩膀的背侧得到拉伸。</li>\n<li>双手从前方拉住位于头上的门框，然后离门稍微远一些，使得你的身体能够向下倾斜，并能做出拉动手臂和向后的动作。</li>\n</ol>\n<p>如果做了这组动作，并且完成肩部扭动和身体放松，你的感觉就会好很多。这套动作也可以在你每天上班之前和手腕练习一起做。</p>\n<p>另一种有效的锻炼方法就是做俯卧撑。但是我在开始工作之前是不会做俯卧撑的，因为这个运动太消耗体力，对工作不利。我是在晚上睡觉之前做10个俯卧撑。只要10个就足够锻炼你的胸部，背部，手腕和颈部了。做的时候不要太快，慢慢做，要注意保持身体平衡。</p>\n<h1>脱水：</h1>\n<p>这个问题很简单，但是我自己却常常犯。我每天要喝一吨咖啡，为此我必须要喝很多水来平衡喝咖啡的脱水效应。如果不这么做的话，可能就会造成头疼，或者其他什么问题。脱水的问题在于，如果感觉不到不舒服，你就不会引起重视，但是一旦感觉到了不舒服，往往问题已经很严重了。</p>\n<p>我的建议是，并且我已经在这么做了，无论你喝什么饮料（只要不是水），喝一瓶饮料就喝同样量的一瓶水来平衡。我还建议你少喝碳酸饮料。这些碳酸饮料里面放了很多恶心的假糖，只会让你变胖和得糖尿病，并且对缓解脱水一点帮助都没有。能喝点儿黑咖啡当然是好的，但是记得也要喝些水来平衡。</p>\n<h1>肠道和泌尿系统问题：</h1>\n<p>好吧，这个话题要是细说就太恶心了，所以我就不细说了。但是我要强调的是：</p>\n<blockquote><p>该上厕所的时候就赶快去！别憋着。</p></blockquote>\n<p>你可能不相信这个建议多重要，我在年轻的时候经常听人这么跟我讲。因为我像“真正的程序员”一样，在编程的时候不喜欢被打断，所以我一般能憋多久就憋多久。但是这么做的坏处是，因为肠蠕动的原因，一会儿你就失去了上厕所的感觉了，但是你的便便累积了下来。</p>\n<p>这最终会导致便秘，并影响你的健康。对于泌尿系统来说，憋尿的危害也许没有便秘那么大，但是也会造成尿道感染或者其他一些你意想不到的毛病。</p>\n<p>所以如果你已经深受憋着不上厕所的危害，那么你要做的就是多吃点儿纤维片，然后请两天假待在家里，因为你会经常跑厕所的。</p>\n<p>然后，当你有感觉时，赶快去！我跟你说，也许你在上厕所的时候能想出什么值好几百万的点子呢。</p>\n<h1>痔疮和前列腺的问题：</h1>\n<p>如果你该上厕所的时候憋着不去，那么还可能造成的一个问题就是你可能会得痔疮。是的，这个词儿听上去很恶心，我保证我以后不再提这么恶心的东西了。但是，很多程序员对这个问题羞于启齿，那么就让我来跟你们说明这个事情吧。下列不好的习惯其实我做过一次到两次：</p>\n<ol>\n<li>久坐</li>\n<li>搬运重物，但没有使用合适的工具</li>\n<li>该去上厕所的时候不去</li>\n<li>不想上厕所的时候强迫自己上厕所</li>\n<li>最糟糕的是：长时间坐在马桶上看书 （伯乐在线补充：长时间坐马桶玩手机更要注意）</li>\n</ol>\n<p>我跟你们说，最后一个才是真正的大杀器。如果不是必要，那么就不要在马桶上久坐。因为这样会让你身体的重量和肠道的重量都施加到你的直肠上了，要知道你的直肠本身就很有压力了。很恶心是不。而且此时你的血管是处于不自然状态的，血压会上升，所以会导致痔疮。</p>\n<p>这些事情不但听上去恶心，而且潜在的危险也很大。是的，你很可能会因此得痔疮，严重的话会造成各种出血现象。如果得了痔疮，那么请立刻去看医生。如果需要手术，那么马上就做。我虽然没得过痔疮，但是也就差一点儿而已。有一年的时间，我在减体重，工作环境是仓库，而且我长时间编程，并且不及时去上厕所。</p>\n<p>是的，我那个时候很傻。所以不要再犯我以前犯过的错误了。确保做到以下三件事情，这样能让你的屁股周边保持健康：</p>\n<ol>\n<li>多吃蔬菜，如果你不爱吃蔬菜，至少要吃点儿纤维片</li>\n<li>该去厕所就去厕所，别憋着</li>\n<li>不要给自己太大的压力。</li>\n</ol>\n<p>在这些方面不注意的话，你可能会得前列腺方面的疾病，这类疾病多少都和久坐有关。所以能站起来走走就起来走走，多休息休息，就能解决这类问题。如果你发现你尿液里有血，那么说明问题比较严重了，应该马上去看医生。如果你尿频，也应该去看医生。</p>\n<h1>缺乏维生素D：</h1>\n<p>维生素D是一种奇怪的东西。你晒会儿太阳就能得到维生素D，而且不用晒多长时间。根据阳光的强度，大约晒太阳5-30分钟即可。这同时依赖于你体内的钙含量以及磷酸盐的缺乏程度。如果你饮食规律，并且不常吃像薯片这样的垃圾食品的话，那么问题不会很大。</p>\n<p>有的时候，你可能会情绪低落，牙齿不好，身上哪儿都疼（例如胳膊上的骨头疼），肌肉紧张等等，总的来说就是身体不爽。这个时候你可以选择去看医生，不过可能出去晒个30分钟的太阳也能解决问题。</p>\n<p>实际上，我认为这些问题可能是硅谷这些创业公司提供的饮食服务造成的。因为有了这些，你就会长期待在办公室里，根本不愁没有吃的。然后办公室里面的灯光又比较暗，所以阳光很强的时候你也不愿意外出。再加上可能存在的不良的睡眠习惯，你很可能就缺乏维生素D了，而且还毫不自知。</p>\n<p>所以你要做的就是，不要去贪中午公司给提供的饮食，出门去买食物，顺便走走路，晒晒太阳，这种方式给你带来的好处可比你想象的要大。而且，外面的食物也不错哦。</p>\n<p>我住在温哥华和西雅图的时候，有轻微的维生素D不足的情况。因为这两个地方一年四季没几天能看见太阳，对我来说简直太糟糕了。有些人能忍受这种气候，但是对于我这种从小在热带海岛气候长大的人来说，这种气候简直就像是谋杀。</p>\n<p>所以，如果你能晒到太阳，那就快去晒吧。</p>\n<h1>睡眠紊乱：</h1>\n<p>我的睡眠习惯一直都不是很固定，总的来说要根据季节和我在的区域来决定。在有些地方我就习惯于在晚上做事，晚睡晚起。后来我搬到旧金山以后，我就养成了早起的习惯，晚上也不熬夜了，所以最近一段时间我感觉健康多了。</p>\n<p>不过有的时候，我也不知道为什么，我就是觉得在晚上或者天快亮的时候做事比较有效率，无论是写代码还是做音乐都是如此。我认为很可能是因为我的大脑在这些时候比较累，所以反而比较放松。还有一个可能的原因就是这些时间比较安静，所以我就能坚持做我要做的事情，减少干扰。</p>\n<p>无论采用什么方式，早起而晚睡这件事情对睡眠肯定是不利的。我发现随着年龄的增大，我更倾向于早起了。我觉得我在一天中清醒的时间越来越长。如果我睡得特别晚，或者喝大了的话，第二天起来都会头疼。</p>\n<p>如果你有睡眠方面的问题，那么我有一个非常简单的冥想法推荐，我自己用这个方法有几年的时间了，能够帮助你解决问题。这需要一点耐心，但是非常有效，而且见效很快。</p>\n<p>首先，选一个你能买得起的最贵的床。2000美元的床基本就是刚起步的水平。我花了2200美元去买了一个Tempur-Pedic的床。真是物有所值啊。</p>\n<p>现在你有了很好的床了，然后你就可以开始练习如何让自己睡着了。下面就是一个如何让自我催眠的好办法：</p>\n<ol>\n<li>关掉屋里所有的灯，让一切静音</li>\n<li>平躺，把手放在你身上舒服的位置，或放在身侧</li>\n<li>慢速深呼吸并吐气，并想象你能看见你呼吸的气流</li>\n<li>一旦你开始成功想象自己的呼吸，然后开始想象你能看透窗户，窗外是大片开阔的星空</li>\n<li>呼吸中，想象你自己漂浮起来，慢慢穿过窗户，然后飘入到星空当中，</li>\n<li>让这种状态持续，让周围的环境飘入你的床前，再飘出，直到一切都消失</li>\n</ol>\n<p>这样，你大概在步骤4或者5的时候就能睡着了，如果还没有的话，那么让自己继续飘着融入环境直到你睡着了为止。</p>\n<p>如果你患有严重失眠的话，那么上面的方法就不适合你了，尽快去看医生吧，或者你可以疯狂健身1到2小时。健身绝对能够帮助你入睡。</p>\n<h1>身体僵硬和柔韧性问题：</h1>\n<p>如果你长期觉得身体“僵硬”或者在运动方面不够理想，那么很可能需要做一些日常拉伸运动来改善。最好的办法是一周做一次瑜伽，然后平时再做一些其他的练习。如果你做不到这一点，那么就按照一些书上介绍的基本的拉伸知识来做吧，图书馆或者书店里都有这类书的。只需要最简单的那种书就可以，并不需要搞得太复杂。</p>\n<p>我觉得如果你能在晚上睡觉前做5-6组比较大幅度的伸展运动，就会对你放松身体有很大帮助，你也能在健康和自我感觉方面得到很大的改善。</p>\n<p>身体上的拉伸也能放松你的精神，做一做瑜伽，或者做30分钟拉伸运动，再去洗个晨澡，是帮助自己提升创造力，促进大脑运动的好办法。如果还能结合冥想一起锻炼，那么你会发现你的精神适应能力会得到显著的改善，并能做到很多以前做不到的事情。</p>\n<p>我不清楚其中的原理，但放松自己的精神，确实有助于提升创造性以及激发创意。</p>\n<h1>千里之行，始于足下：</h1>\n<p>本文可能对于一个人来说包含了太多的内容，说真心话伯乐在线是希望您的身体完全健康，一条都不用参照的。不过如果您没有这些问题，我还是建议您可以尝试一下这些方法，出于预防的目的。如果你已经决定开始尝试，那么您需要采用一种简单的“编码热身”的方法，就像你在写代码之前做的那样。</p>\n<p>下面的这些事情，是我在我写代码，弹吉他之前，或者身体僵硬需要运动之前做的：</p>\n<ol>\n<li>转动所有关节，手腕，手臂，脖子，背部以及胯部，每个关节画几个小圈，正向5次，反向5次</li>\n<li>做少量几组腕部练习，每组间抖手腕放松</li>\n<li>把手臂伸向头部上方进行拉伸，举得越高越好，然后向后拉伸，拉伸越大越好，然后在身体前方做手臂交叉拉伸</li>\n<li>最后，用手做头部的拉伸，把头拉向右、左、前、后，动作要小心，幅度要小。</li>\n</ol>\n<p>如果你能做到这些，那么你就可以避免很多程序员面临的健康问题。因为编程并不是什么重体力活，所以很多健康问题其实是可以自己避免的，而你要做的就是做上述的那些练习。</p>\n<p>不过，如果你有特定的健康问题，那么你需要咨询你的理疗师，如果理疗师说没什么大碍，你也可以听听其他人的建议。我在这里所说的一切方法都是不是什么极端或者古怪的东西，都是些基本的运动练习，也符合常识，所以对于医生来说，这些做法应该是没问题的。不过我可不想被人起诉说是在让人误入歧途，所以我强调过了，一切要先问问再做。</p>\n<p>希望这篇博客的内容对你有用，如果没有用的话，那么记住我的建议<span style=\"color: #ff0000\">是要先问问医生再做，以免你被我误导</span>。如果幸运的话，你可能并不存在任何健康问题，但是在我看来，基本上每个程序员都多多少少地有我提到的各种问题。</p>\n<p>所以，一定要自己保重身体。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/78805a221a988e79ef3f42d7c5bfd4187.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110628\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110628votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110628\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 10 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 6 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/avatars/5423/Corbis-42-221258652.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            黄小非：毕业于重庆大学计算机系，南开大学软件工程硕士，SCJP。 目前在一家国企信息中心任职软件开发工程师。主要技术兴趣为Java平台相关技术、系统构架、C/C++、计算机图形学等。（新浪微博：@黄小非）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/huangxiaofei\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/huangxiaofei/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 48</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "职场,健康,程序员", "front_image_path": "full/e0ecd0751fc329d2f703a677f8e848dc4aa19c86.jpg", "title": "常坐电脑前面，这些健康问题你注意到了么？", "url": "http://blog.jobbole.com/110628/", "url_object_id": "48d8039208eb2f9711bcf5331f976618", "create_time": "2017/03/20", "comment_nums": 6, "fav_nums": 10}
{"front_image_url": ["http://wx4.sinaimg.cn/mw690/63918611ly1fdmo4xuvndj207b09fwji.jpg"], "praise_nums": "4", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/xhb7636553\">徐汉彬</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><h2><b>一、人工智能和新科技革命</b></h2>\n<p>2017年围棋界发生了一件比较重要事，Master（Alphago）以60连胜横扫天下，击败各路世界冠军，人工智能以气势如虹的姿态出现在我们人类的面前。围棋曾经一度被称为“人类智慧的堡垒”，如今，这座堡垒也随之成为过去。从2016年三月份AlphaGo击败李世石开始，AI全面进入我们大众的视野，对于它的讨论变得更为火热起来，整个业界普遍认为，它很可能带来下一次科技革命，并且，在未来可预见的10多年里，深刻得改变我们的生活。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo4xuvndj207b09fwji.jpg\" width=\"263\" height=\"339\"></p>\n<p>其实，AI除了可以做我们熟知的人脸、语音等识别之外，它可以做蛮多有趣的事情。</p>\n<p>例如，让AI学习大量古诗之后写古诗，并且可以写出质量非常不错的古诗。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo51f5z5j20g4068aca.jpg\" width=\"580\" height=\"224\"></p>\n<p>又或者，将两部设计造型不同的汽车进行融合，形成全新一种设计风格的新汽车造型。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo51yex1j20go04atcn.jpg\" width=\"600\" height=\"154\"></p>\n<p>还有，之前大家在朋友圈里可能看过的，将相片转换成对应的艺术风格的画作。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo53079bj20go0b1an1.jpg\" width=\"600\" height=\"397\"></p>\n<p>当前，人工智能已经在图像、语音等多个领域的技术上，取得了全面的突破。与此同时，另外一个问题随之而来，如果这一轮的AI浪潮真的将会掀起新的科技革命，那么在可预见的未来，我们整个互联网都将发生翻天覆地的变化，深刻影响我们的生活。那么作为工程师的我，又应该以何种态度和方式应对这场时代洪流的冲击呢？</p>\n<p>在回答这个问题之前，我们先一起看看上一轮由计算机信息技术引领的科技革命中，过去30多年中国程序员的角色变化：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo53mjuxj20go05ijsu.jpg\" width=\"600\" height=\"198\"></p>\n<p>通过上图可以简总结：编程技术在不断地发展并且走向普及，从最开始掌握在科学家和专家学者手中的技能，逐渐发展为一门大众技能。换而言之，我们公司内很多资深的工程师，如果带着今天对编程和计算机的理解和理念回到1980年，那么他无疑就是那个时代的计算机专家。</p>\n<p>如果这一轮AI浪潮真的会带来新的一轮科技革命，那么我们相信，它也会遵循类似的发展轨迹，逐步发展和走向普及。如果基于这个理解，或许，我们可以通过积极学习，争取成为第一代AI工程师。</p>\n<h2>二、深度学习技术</h2>\n<p>这一轮AI的技术突破，主要源于深度学习技术，而关于AI和深度学习的发展历史我们这里不重复讲述，可自行查阅。我用了一个多月的业务时间，去了解和学习了深度学习技术，在这里，我尝试以一名工程师的视角，以尽量容易让大家理解的方式一起探讨下深度学习的原理，尽管，受限于我个人的技术水平和掌握程度，未必完全准确。</p>\n<p><b>1. 人的智能和神经元</b></p>\n<p>人类智能最重要的部分是大脑，大脑虽然复杂，它的组成单元却是相对简单的，大脑皮层以及整个神经系统，是由神经元细胞组成的。而一个神经元细胞，由树突和轴突组成，它们分别代表输入和输出。连在细胞膜上的分叉结构叫树突，是输入，那根长长的“尾巴”叫轴突，是输出。神经元输出的有电信号和化学信号，最主要的是沿着轴突细胞膜表面传播的一个电脉冲。忽略掉各种细节，神经元，就是一个积累了足够的输入，就产生一次输出（兴奋）的相对简单的装置。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo547kjrj20go0d5god.jpg\" width=\"600\" height=\"473\"></p>\n<p>树突和轴突都有大量的分支，轴突的末端通常连接到其他细胞的树突上，连接点上是一个叫“突触”的结构。一个神经元的输出通过突触传递给成千上万个下游的神经元，神经元可以调整突触的结合强度，并且，有的突触是促进下游细胞的兴奋，有的是则是抑制。一个神经元有成千上万个上游神经元，积累它们的输入，产生输出。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo54sdnwj208p061n0n.jpg\" width=\"313\" height=\"217\"></p>\n<p>人脑有1000亿个神经元，1000万亿个突触，它们组成人脑中庞大的神经网络，最终产生的结果即是人的智能。</p>\n<p><b>2. 人工神经元和神经网络</b></p>\n<p>一个神经元的结构相对来说是比较简单的，于是，科学家们就思考，我们的AI是否可以从中获得借鉴？神经元接受激励，输出一个响应的方式，同计算机中的输入输出非常类似，看起来简直就是量身定做的，刚好可以用一个函数来模拟。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo55co3ej20ai07ugnx.jpg\" width=\"378\" height=\"282\"></p>\n<p>通过借鉴和参考神经元的机制，科学家们模拟出了人工神经元和人工神经网络。当然，通过上述这个抽象的描述和图，比较难让大家理解它的机制和原理。我们以“房屋价格测算”作为例子，一起来看看：</p>\n<p>一套房子的价格，会受到很多因素的影响，例如地段、朝向、房龄、面积、银行利率等等，这些因素如果细分，可能会有几十个。一般在深度学习模型里，这些影响结果的因素我们称之为特征。我们先假设一种极端的场景，例如影响价格的特征只有一种，就是房子面积。于是我们收集一批相关的数据，例如，50平米50万、93平米95万等一系列样本数据，如果将这些样本数据放到而为坐标里看，则如下图：</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo568mu3j20go0b7dkq.jpg\" width=\"600\" height=\"403\"></p>\n<p>然后，正如我们前面所说的，我们尝试用一个“函数”去拟合这个输入（面积x）和输出（价格y），简而言之，我们就是要通过一条直线或者曲线将这些点“拟合”起来。</p>\n<p>假设情况也比较极端，这些点刚好可以用一条“直线”拟合（真实情况通常不会是直线），如下图：</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo572s7ej20go0boq89.jpg\" width=\"600\" height=\"420\"></p>\n<p>那么我们的函数是一个一次元方程f(x) = ax +b，当然，如果是曲线的话，我们得到的将是多次元方程。我们获得这个f(x) = ax +b的函数之后，接下来就可以做房价“预测”，例如，我们可以计算一个我们从未看见的面积案例81.5平方米，它究竟是多少钱？</p>\n<p>这个新的样本案例，可以通过直线找到对应的点（黄色的点），如图下：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo57ygr5j20go0bjn2h.jpg\" width=\"600\" height=\"415\"></p>\n<p>粗略的理解，上面就是AI的概括性的运作方式。这一切似乎显得过于简单了？当然不会，因为，我们前面提到，影响房价其实远不止一个特征，而是有几十个，这样问题就比较复杂了，接下来，这里则要继续介绍深度学习模型的训练方式。这部分内容相对复杂一点，我尽量以业务工程师的视角来做一个粗略而简单的阐述。</p>\n<p><b>3. 深度学习模型的训练方式</b></p>\n<p>当有好几十个特征共同影响价格的时候，自然就会涉及权重分配的问题，例如有一些对房价是主要正权重的，例如地段、面积等，也有一些是负权重的，例如房龄等。</p>\n<p><b>（1）初始化权重计算</b></p>\n<p>那么，第一个步其实是给这些特征加一个权重值，但是，最开始我们根本不知道这些权重值是多少？怎么办呢？不管那么多了，先给它们随机赋值吧。随机赋值，最终计算出来的估算房价肯定是不准确的，例如，它可能将价值100万的房子，计算成了10万。</p>\n<p><b>（2）损失函数</b></p>\n<p>因为现在模型的估值和实际估值差距比较大，于是，我们需要引入一个评估“不准确”程度的衡量角色，也就是损失（loss）函数，它是衡量模型估算值和真实值差距的标准，损失函数越小，则模型的估算值和真实值的察觉越小，而我们的根本目的，就是降低这个损失函数。让刚刚的房子特征的模型估算值，逼近100万的估算结果。</p>\n<p><b>（3）模型调整</b></p>\n<p>通过梯度下降和反向传播，计算出朝着降低损失函数的方向调整权重参数。举一个不恰当的比喻，我们给面积增加一些权重，然后给房子朝向减少一些权重（实际计算方式，并非针对单个个例特征的调整），然后损失函数就变小了。</p>\n<p><b>（4）循环迭代</b></p>\n<p>调整了模型的权重之后，就可以又重新取一批新的样本数据，重复前面的步骤，经过几十万次甚至更多的训练次数，最终估算模型的估算值逼近了真实值结果，这个模型的则是我们要的“函数”。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo59bfylj20go0f242x.jpg\" width=\"600\" height=\"542\"></p>\n<p>为了让大家更容易理解和直观，采用的例子比较粗略，并且讲述深度学习模型的训练过程，中间省略了比较多的细节。讲完了原理，那么我们就开始讲讲如何学习和搭建demo。</p>\n<h2>三、深度学习环境搭建</h2>\n<p>在2个月前（2016年11月），人工智能对我来说，只是一个高大上的概念。但是，经过一个多月的业余时间的认真学习，我发现还是能够学到一些东西，并且跑一些demo和应用出来的。</p>\n<p><b>1. 学习的提前准备</b></p>\n<p>（1）部分数学内容的复习，高中数学、概率、线性代数等部分内容。（累计花费了10个小时，，挑了关键的点看了下，其实还是不太够，只能让自己看公式的时候，相对没有那么懵）</p>\n<p>（2）Python基础语法学习。（花费了3个小时左右，我以前从未写过Python，因为后面Google的TensorFlow框架的使用是基于Python的）</p>\n<p>（3）Google的TensorFlow深度学习开源框架。（花费了10多个小时去看）</p>\n<p>数学基础好或者前期先不关注原理的同学，数学部分不看也可以开始做，全凭个人选择。</p>\n<p><b>2. Google的TensorFlow开源深度学习框架</b></p>\n<p>深度学习框架，我们可以粗略的理解为是一个“数学函数”集合和AI训练学习的执行框架。通过它，我们能够更好的将AI的模型运行和维护起来。</p>\n<p>深度学习的框架有各种各样的版本（<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=https%3A//github.com/BVLC/caffe\" target=\"_blank\" rel=\"nofollow noreferrer\">Caffe<i class=\"icon-external\"></i></a>、<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=https%3A//github.com/torch/torch7\" target=\"_blank\" rel=\"nofollow noreferrer\">Torch<i class=\"icon-external\"></i></a>、<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=https%3A//github.com/Theano/Theano\" target=\"_blank\" rel=\"nofollow noreferrer\">Theano<i class=\"icon-external\"></i></a>等等），我只接触了Google的TensorFlow，因此，后面的内容都是基于TensorFlow展开的，它的详细介绍这里不展开讲述，建议直接进入官网查看。非常令人庆幸的是TensorFlow比较早就有中文社区了，尽管里面的内容有一点老，搭建环境方面有一些坑，但是已经属于为数不多的中文文档了，大家且看且珍惜。</p>\n<blockquote><p>TensorFlow的中文社区：</p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//www.tensorfly.cn/\" target=\"_blank\" rel=\"nofollow noreferrer\">TensorFlow中文社区-首页<i class=\"icon-external\"></i></a></p>\n<p>TensorFlow的英文社区：</p>\n<p><a class=\" external\" href=\"http://link.zhihu.com/?target=https%3A//www.tensorflow.org/\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://www.</span><span class=\"visible\">tensorflow.org/</span><i class=\"icon-external\"></i></a></p></blockquote>\n<p><b>3. TensorFlow环境搭建</b></p>\n<p>环境搭建本身并不复杂，主要解决相关的依赖。但是，基础库的依赖可以带来很多问题，因此，建议尽量一步到位，会简单很多。</p>\n<p><b>（1）操作系统</b></p>\n<p>我搭建环境使用的机器是腾讯云上的机器，软件环境如下：</p>\n<p>操作系统：CentOS 7.2 64位（GCC 4.8.5）</p>\n<p>因为这个框架依赖于python2.7和glibc 2.17。比较旧的版本的CentOS一般都是python2.6以及版本比较低的glibc，会产生比较的多基础库依赖问题。而且，glibc作为Linux的底层库，牵一发动全身，直接对它升级是比较复杂，很可能会带来更多的环境异常问题。</p>\n<p><b>（2）软件环境</b></p>\n<p>我目前安装的Python版本是python-2.7.5，建议可以采用yum install python的方式安装相关的原来软件。然后，再安装 python内的组件包管理器pip，安装好pip之后，接下来的其他软件的安装就相对比较简单了。</p>\n<p>例如安装TensorFlow，可通过如下一句命令完成（它会自动帮忙解决一些库依赖问题）：</p>\n<p>pip install -U tensorflow</p>\n<p>这里需要特别注意的是，不要按照TensorFlow的中文社区的指引去安装，因为它会安装一个非常老的版本（0.5.0），用这个版本跑很多demo都会遇到问题的。而实际上，目前通过上述提供的命令安装，是tensorflow (1.0.0)的版本了。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo59yo9gj20go01lglw.jpg\" width=\"600\" height=\"57\"></p>\n<p>Python（2.7.5）下的其他需要安装的关键组件：</p>\n<blockquote><p>tensorflow (0.12.1)，深度学习的核心框架</p>\n<p>image (1.5.5)，图像处理相关，部分例子会用到</p>\n<p>PIL (1.1.7)，图像处理相关，部分例子会用到</p></blockquote>\n<p>除此之后，当然还有另外的一些依赖组件，通过pip list命令可以查看我们安装的python组件：</p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa3326c879657925\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nappdirs (1.4.0)\r\nbackports.ssl-match-hostname (3.4.0.2)\r\nchardet (2.2.1)\r\nconfigobj (4.7.2)\r\ndecorator (3.4.0)\r\nDjango (1.10.4)\r\nfuncsigs (1.0.2)\r\nimage (1.5.5)\r\niniparse (0.4)\r\nkitchen (1.1.1)\r\nlangtable (0.0.31)\r\nmock (2.0.0)\r\nnumpy (1.12.0)\r\npackaging (16.8)\r\npbr (1.10.0)\r\nperf (0.1)\r\nPIL (1.1.7)\r\nPillow (3.4.2)\r\npip (9.0.1)\r\nprotobuf (3.2.0)\r\npycurl (7.19.0)\r\npygobject (3.14.0)\r\npygpgme (0.3)\r\npyliblzma (0.5.3)\r\npyparsing (2.1.10)\r\npython-augeas (0.5.0)\r\npython-dmidecode (3.10.13)\r\npyudev (0.15)\r\npyxattr (0.5.1)\r\nsetuptools (34.2.0)\r\nsix (1.10.0)\r\nslip (0.4.0)\r\nslip.dbus (0.4.0)\r\ntensorflow (1.0.0)\r\nurlgrabber (3.10)\r\nwheel (0.29.0)\r\nyum-langpacks (0.4.2)\r\nyum-metadata-parser (1.1.4)\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3326c879657925-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa3326c879657925-39\">39</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-1\"><span class=\"crayon-e\">appdirs</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.4.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-2\"><span class=\"crayon-v\">backports</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ssl</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">match</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">hostname</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.4.0.2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-3\"><span class=\"crayon-e\">chardet</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2.2.1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-4\"><span class=\"crayon-e\">configobj</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">4.7.2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-5\"><span class=\"crayon-e\">decorator</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.4.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-6\"><span class=\"crayon-e\">Django</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.10.4</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-7\"><span class=\"crayon-e\">funcsigs</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.0.2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-8\"><span class=\"crayon-e\">image</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.5.5</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-9\"><span class=\"crayon-e\">iniparse</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.4</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-10\"><span class=\"crayon-e\">kitchen</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.1.1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-11\"><span class=\"crayon-e\">langtable</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.0.31</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-12\"><span class=\"crayon-e\">mock</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2.0.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-13\"><span class=\"crayon-e\">numpy</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.12.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-14\"><span class=\"crayon-e\">packaging</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">16.8</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-15\"><span class=\"crayon-e\">pbr</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.10.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-16\"><span class=\"crayon-e\">perf</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-17\"><span class=\"crayon-e\">PIL</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.1.7</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-18\"><span class=\"crayon-e\">Pillow</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.4.2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-19\"><span class=\"crayon-e\">pip</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">9.0.1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-20\"><span class=\"crayon-e\">protobuf</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.2.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-21\"><span class=\"crayon-e\">pycurl</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">7.19.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-22\"><span class=\"crayon-e\">pygobject</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.14.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-23\"><span class=\"crayon-e\">pygpgme</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.3</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-24\"><span class=\"crayon-e\">pyliblzma</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.5.3</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-25\"><span class=\"crayon-e\">pyparsing</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2.1.10</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-26\"><span class=\"crayon-v\">python</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">augeas</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.5.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-27\"><span class=\"crayon-v\">python</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">dmidecode</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.10.13</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-28\"><span class=\"crayon-e\">pyudev</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.15</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-29\"><span class=\"crayon-e\">pyxattr</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.5.1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-30\"><span class=\"crayon-e\">setuptools</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">34.2.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-31\"><span class=\"crayon-e\">six</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.10.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-32\"><span class=\"crayon-e\">slip</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.4.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-33\"><span class=\"crayon-v\">slip</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dbus</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.4.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-34\"><span class=\"crayon-e\">tensorflow</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.0.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-35\"><span class=\"crayon-e\">urlgrabber</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3.10</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-36\"><span class=\"crayon-e\">wheel</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.29.0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-37\"><span class=\"crayon-v\">yum</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">langpacks</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.4.2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3326c879657925-38\"><span class=\"crayon-v\">yum</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">metadata</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">parser</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1.1.4</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa3326c879657925-39\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0041 seconds] -->\r\n\n</div>\n<p>按照上述提供的来搭建系统，可以规避不少的环境问题。</p>\n<p>搭建环境的过程中，我遇到不少问题。例如：在跑官方的例子时的某个报，AttributeError: ‘module’ object has no attribute ‘gfile’，就是因为安装的TensorFlow的版本比较老，缺少gfile模块导致的。而且，还有各种各样的。</p>\n<p>更详细的安装说明：</p>\n<p><a class=\" external\" href=\"http://link.zhihu.com/?target=https%3A//www.tensorflow.org/install/install_linux\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://www.</span><span class=\"visible\">tensorflow.org/install/</span><span class=\"invisible\">install_linux</span><i class=\"icon-external\"></i></a></p>\n<p><b>（3）TensorFlow环境测试运行</b></p>\n<p>测试是否安装成功，可以采用官方的提供的一个短小的例子，demo生成了一些三维数据, 然后用一个平面拟合它们（官网的例子采用的初始化变量的函数是initialize_all_variables，该函数在新版本里已经被废弃了）：</p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa33278268245427\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#!/usr/bin/python\r\n#coding=utf-8\r\n \r\nimport tensorflow as tf\r\nimport numpy as np\r\n \r\n# 使用 NumPy 生成假数据(phony data), 总共 100 个点.\r\nx_data = np.float32(np.random.rand(2, 100)) # 随机输入\r\ny_data = np.dot([0.100, 0.200], x_data) + 0.300\r\n \r\n# 构造一个线性模型\r\n# \r\nb = tf.Variable(tf.zeros([1]))\r\nW = tf.Variable(tf.random_uniform([1, 2], -1.0, 1.0))\r\ny = tf.matmul(W, x_data) + b\r\n \r\n# 最小化方差\r\nloss = tf.reduce_mean(tf.square(y - y_data))\r\noptimizer = tf.train.GradientDescentOptimizer(0.5)\r\ntrain = optimizer.minimize(loss)\r\n \r\n# 初始化变量,旧函数（initialize_all_variables）已经被废弃，替换为新函数\r\ninit = tf.global_variables_initializer()\r\n \r\n# 启动图 (graph)\r\nsess = tf.Session()\r\nsess.run(init)\r\n \r\n# 拟合平面\r\nfor step in xrange(0, 201):\r\n    sess.run(train)\r\n    if step % 20 == 0:\r\n        print step, sess.run(W), sess.run(b)\r\n \r\n# 得到最佳拟合结果 W: [[0.100  0.200]], b: [0.300]\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58d464fa33278268245427-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33278268245427-36\">36</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-1\"><span class=\"crayon-p\">#!/usr/bin/python</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-2\"><span class=\"crayon-p\">#coding=utf-8</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-4\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">tensorflow </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tf</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-5\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">numpy </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">np</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-6\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-7\"><span class=\"crayon-p\"># 使用 NumPy 生成假数据(phony data), 总共 100 个点.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-8\"><span class=\"crayon-v\">x_data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">float32</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">random</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">rand</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 随机输入</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-9\"><span class=\"crayon-v\">y_data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">np</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dot</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0.100</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.200</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x_data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.300</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-10\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-11\"><span class=\"crayon-p\"># 构造一个线性模型</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-12\"><span class=\"crayon-p\"># </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-13\"><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Variable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">zeros</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-14\"><span class=\"crayon-v\">W</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Variable</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">random_uniform</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-15\"><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">matmul</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">W</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x_data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-16\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-17\"><span class=\"crayon-p\"># 最小化方差</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-18\"><span class=\"crayon-v\">loss</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">reduce_mean</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">square</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y_data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-19\"><span class=\"crayon-v\">optimizer</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">train</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">GradientDescentOptimizer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.5</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-20\"><span class=\"crayon-v\">train</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">optimizer</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">minimize</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">loss</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-21\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-22\"><span class=\"crayon-p\"># 初始化变量,旧函数（initialize_all_variables）已经被废弃，替换为新函数</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-23\"><span class=\"crayon-v\">init</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">global_variables_initializer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-24\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-25\"><span class=\"crayon-p\"># 启动图 (graph)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-26\"><span class=\"crayon-v\">sess</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Session</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-27\"><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">init</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-28\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-29\"><span class=\"crayon-p\"># 拟合平面</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-30\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">step </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">xrange</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">201</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-31\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">train</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-32\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">step</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-33\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">print </span><span class=\"crayon-v\">step</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">W</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-34\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-58d464fa33278268245427-35\"><span class=\"crayon-p\"># 得到最佳拟合结果 W: [[0.100  0.200]], b: [0.300]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33278268245427-36\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0051 seconds] -->\r\n\n</div>\n<p>运行的结果类似如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo5gyckgj20cy05kq48.jpg\" width=\"466\" height=\"200\"></p>\n<p>经过200次的训练，模型的参数逐渐逼近最佳拟合的结果（W: [[0.100 0.200]], b: [0.300]），另外，我们也可以从代码的“风格”中，了解到框架样本训练的基本运行方式。虽然，官方的教程后续会涉及越来越多更复杂的例子，但从整体上看，也是类似的模式。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo5hiqipj20go01lwer.jpg\" width=\"600\" height=\"57\"></p>\n<p><b>步骤划分：</b></p>\n<ol>\n<li>准备数据：获得有标签的样本数据（带标签的训练数据称为有监督学习）；</li>\n<li>设置模型：先构建好需要使用的训练模型，可供选择的机器学习方法其实也挺多的，换而言之就是一堆数学函数的集合；</li>\n<li>损失函数和优化方式：衡量模型计算结果和真实标签值的差距；</li>\n<li>真实训练运算：训练之前构造好的模型，让程序通过循环训练和学习，获得最终我们需要的结果“参数”；</li>\n<li>验证结果：采用之前模型没有训练过的测试集数据，去验证模型的准确率。</li>\n</ol>\n<p>其中，TensorFlow为了基于python实现高效的数学计算，通常会使用到一些基础的函数库，例如Numpy（采用外部底层语言实现），但是，从外部计算切回到python也是存在开销的，尤其是在几万几十万次的训练过程。因此，Tensorflow不单独地运行单一的函数计算，而是先用图描述一系列可交互的计算操作流程，然后全部一次性提交到外部运行（在其他机器学习的库里，也是类似的实现）。所以，上述流程图中，蓝色部分都只是设置了“计算操作流程”，而绿色部分开始才是真正的提交数据给到底层库进行实际运算，而且，每次训练一般是批量执行一批数据的。</p>\n<h2>四、经典入门demo：识别手写数字（MNIST）</h2>\n<p>常规的编程入门有“Hello world”程序，而深度学习的入门程序则是MNIST，一个识别28*28像素的图片中的手写数字的程序。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5i56mwj208u026jrg.jpg\" width=\"318\" height=\"78\"></p>\n<p>MNIST的数据和官网：</p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//yann.lecun.com/exdb/mnist/\" target=\"_blank\" rel=\"nofollow noreferrer\">MNIST handwritten digit database, Yann LeCun, Corinna Cortes and Chris Burges<i class=\"icon-external\"></i></a></p>\n<p>深度学习的内容，其背后会涉及比较多的数学原理，作为一个初学者，受限于我个人的数学和技术水平，也许并不足以准确讲述相关的数学原理，因此，本文会更多的关注“应用层面”，不对背后的数学原理进行展开，感谢谅解。</p>\n<p><b>1. 加载数据</b></p>\n<p>程序执行的第一步当然是加载数据，根据我们之前获得的数据集主要包括两部分：60000的训练数据集（mnist.train）和10000的测试数据集（mnist.test）。里面每一行，是一个28*28=784的数组，数组的本质就是将28*28像素的图片，转化成对应的像素点阵。</p>\n<p>例如手写字1的图片转换出来的对应矩阵表示如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo5isg95j20go06g0u2.jpg\" width=\"600\" height=\"232\"></p>\n<p>之前我们经常听说，图片方面的深度学习需要大量的计算能力，甚至需要采用昂贵、专业的GPU（Nvidia的GPU），从上述转化的案例我们就已经可以获得一些答案了。一张784像素的图片，对学习模型来说，就有784个特征，而我们实际的相片和图片动辄几十万、百万级别，则对应的基础特征数也是这个数量级，基于这样数量级的数组进行大规模运算，没有强大的计算能力支持，确实寸步难行。当然，这个入门的MNIST的demo还是可以比较快速的跑完。</p>\n<p>Demo中的关键代码（读取并且加载数据到数组对象中，方便后面使用）：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo5jf23tj20go02hwfc.jpg\" width=\"600\" height=\"89\"></p>\n<p><b>2. 构建模型</b></p>\n<p>MNIST的每一张图片都表示一个数字，从0到9。而模型最终期望获得的是：给定一张图片，获得代表每个数字的概率。比如说，模型可能推测一张数字9的图片代表数字9的概率是80%但是判断它是8的概率是5%（因为8和9都有上半部分的小圆），然后给予它代表其他数字的概率更小的值。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo5n62kcj208g04dwee.jpg\" width=\"304\" height=\"157\"></p>\n<p>MNIST的入门例子，采用的是softmax回归(softmax regression)，softmax模型可以用来给不同的对象分配概率。</p>\n<p>为了得到一张给定图片属于某个特定数字类的证据（evidence），我们对图片的784个特征（点阵里的各个像素值）进行加权求和。如果某个特征（像素值）具有很强的证据说明这张图片不属于该类，那么相应的权重值为负数，相反如果某个特征（像素值）拥有有利的证据支持这张图片属于这个类，那么权重值是正数。类似前面提到的房价估算例子，对每一个像素点作出了一个权重分配。</p>\n<p>假设我们获得一张图片，需要计算它是8的概率，转化成数学公式则如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo5nsktxj206z01tq2r.jpg\" width=\"251\" height=\"65\"></p>\n<p>公式中的i代表需要预测的数字（8），<img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmocp2ey1j200r00g0bz.jpg\" width=\"27\" height=\"16\"> 代表预测数字为8的情况下，784个特征的不同权重值，<img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmocoo9q2j200b00e07k.jpg\" width=\"11\" height=\"14\">代表8的偏置量（bias），X则是该图片784个特征的值。通过上述计算，我们则可以获得证明该图片是8的证据（evidence）的总和，softmax函数可以把这些证据转换成概率 y。（softmax的数学原理，辛苦各位查询相关资料哈）</p>\n<p>将前面的过程概括成一张图（来自官方）则如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5oh63xj20go06mgol.jpg\" width=\"600\" height=\"238\"></p>\n<p>不同的特征x和对应不同数字的权重进行相乘和求和，则获得在各个数字的分布概率，取概率最大的值，则认为是我们的图片预测结果。</p>\n<p>将上述过程写成一个等式，则如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5p2atyj20go03n0u1.jpg\" width=\"600\" height=\"131\"></p>\n<p>该等式在矩阵乘法里可以非常简单地表示，则等价为：</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo5pr0omj20go0423zn.jpg\" width=\"600\" height=\"146\"></p>\n<p>不展开里面的具体数值，则可以简化为：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5qm571j205e00xa9v.jpg\" width=\"194\" height=\"33\"></p>\n<p>如果我们对线性代数中矩阵相关内容有适当学习，其实，就会明白矩阵表达在一些问题上，更易于理解。如果对矩阵内容不太记得了，也没有关系，后面我会附加上线性代数的视频。</p>\n<p>虽然前面讲述了这么多，其实关键代码就四行：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo5ra17lj20c302h74i.jpg\" width=\"435\" height=\"89\"></p>\n<p>上述代码都是类似变量占位符，先设置好模型计算方式，在真实训练流程中，需要批量读取源数据，不断给它们填充数据，模型计算才会真实跑起来。tf.zeros则表示，先给它们统一赋值为0占位。X数据是从数据文件中读取的，而w、b是在训练过程中不断变化和更新的，y则是基于前面的数据进行计算得到。</p>\n<p><b>3. 损失函数和优化设置</b></p>\n<p>为了训练我们的模型，我们首先需要定义一个指标来衡量这个模型是好还是坏。这个指标称为成本（cost）或损失（loss），然后尽量最小化这个指标。简单的说，就是我们需要最小化loss的值，loss的值越小，则我们的模型越逼近标签的真实结果。</p>\n<p>Demo中使用的损失函数是“交叉熵”（cross-entropy），它的公式如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5rvbqvj206301kmwz.jpg\" width=\"219\" height=\"56\"></p>\n<p>y 是我们预测的概率分布, y’ 是实际的分布（我们输入的)，交叉熵是用来衡量我们的预测结果的不准确性。TensorFlow拥有一张描述各个计算单元的图，也就是整个模型的计算流程，它可以自动地使用<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//colah.github.io/posts/2015-08-Backprop/\" target=\"_blank\" rel=\"nofollow noreferrer\">反向传播算法(backpropagation algorithm)<i class=\"icon-external\"></i></a>，来确定我们的权重等变量是如何影响我们想要最小化的那个loss值的。然后，TensorFlow会用我们设定好的优化算法来不断修改变量以降低loss值。</p>\n<p>其中，demo采用梯度下降算法（gradient descent algorithm）以0.01的学习速率最小化交叉熵。梯度下降算法是一个简单的学习过程，TensorFlow只需将每个变量一点点地往使loss值不断降低的方向更新。</p>\n<p>对应的关键代码如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5simdrj20go01nwfa.jpg\" width=\"600\" height=\"59\"></p>\n<p>备注内容：</p>\n<blockquote><p>交叉熵：<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//colah.github.io/posts/2015-09-Visual-Information/\" target=\"_blank\" rel=\"nofollow noreferrer\">Visual Information Theory<i class=\"icon-external\"></i></a></p>\n<p>反向传播：<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//colah.github.io/posts/2015-08-Backprop/\" target=\"_blank\" rel=\"nofollow noreferrer\">Calculus on Computational Graphs: Backpropagation<i class=\"icon-external\"></i></a></p></blockquote>\n<p>在代码中会看见one-hot vector的概念和变量名，其实这个是个非常简单的东西，就是设置一个10个元素的数组，其中只有一个是1，其他都是0，以此表示数字的标签结果。</p>\n<p>例如表示数字3的标签值：</p>\n<blockquote><p>[0,0,0,1,0,0,0,0,0,0]</p></blockquote>\n<p><b>4. 训练运算和模型准确度测试</b></p>\n<p>通过前面的实现，我们已经设置好了整个模型的计算“流程图”，它们都成为TensorFlow框架的一部分。于是，我们就可以启动我们的训练程序，下面的代码的含义是，循环训练我们的模型500次，每次批量取50个训练样本。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5t4fplj20e402caa8.jpg\" width=\"508\" height=\"84\"></p>\n<p>其训练过程，其实就是TensorFlow框架的启动训练过程，在这个过程中，python批量地将数据交给底层库进行处理。</p>\n<p>我在官方的demo里追加了两行代码，每隔50次则额外计算一次当前模型的识别准确率。它并非必要的代码，仅仅用于方便观察整个模型的识别准确率逐步变化的过程。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo5tqwv4j20go00qwep.jpg\" width=\"600\" height=\"26\"></p>\n<p>当然，里面涉及的accuracy（预测准确率）等变量，需要在前面的地方定义占位：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo5udcpsj20go00wwev.jpg\" width=\"600\" height=\"32\"></p>\n<p>当我们训练完毕，则到了验证我们的模型准确率的时候，和前面相同：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5uztigj20go012glx.jpg\" width=\"600\" height=\"38\"></p>\n<p>我的demo跑出来的结果如下（softmax回归的例子运行速度还是比较快的），当前的准确率是0.9252：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo5vmj0sj207t05fdg3.jpg\" width=\"281\" height=\"195\"></p>\n<p><b>5. 实时查看参数的数值的方法</b></p>\n<p>刚开始跑官方的demo的时候，我们总想将相关变量的值打印出来看看，是怎样一种格式和状态。从demo的代码中，我们可以看见很多的Tensor变量对象，而实际上这些变量对象都是无法直接输出查看，粗略地理解，有些只是占位符，直接输出的话，会获得类似如下的一个对象：</p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa33285380348843\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nTensor(\"Equal:0\", shape=(?,), dtype=bool)\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa33285380348843-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33285380348843-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa33285380348843-1\"><span class=\"crayon-e\">Tensor</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"Equal:0\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">shape</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">?</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">dtype</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">bool</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33285380348843-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n\n</div>\n<p>既然它是占位符，那么我们就必须喂一些数据给它，它才能将真实内容展示出来。因此，正确的方法是，在打印时通常需要加上当前的输入数据给它。</p>\n<p>例如，查看y的概率数据：</p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa3328b651982838\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nprint(sess.run(y, feed_dict={x: batch_xs, y_: batch_ys}))\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa3328b651982838-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3328b651982838-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa3328b651982838-1\"><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">y</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">feed_dict</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">batch_xs</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">y_</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">batch_ys</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3328b651982838-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n\n</div>\n<p>部分非占位符的变量还可以这样输出来：</p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa3328e742178582\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nprint(W.eval())\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa3328e742178582-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa3328e742178582-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa3328e742178582-1\"><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">W</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">eval</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa3328e742178582-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n\n</div>\n<p>总的来说，92%的识别准确率是比较令人失望，因此，官方的MNIST其实也有多种模型的不同版本，其中比较适合图片处理的CNN(卷积神经网络)的版本，可以获得99%以上的准确率，当然，它的执行耗时也是比较长的。</p>\n<p>（备注：cnn_mnist.py就是卷积神经网络版本的，后面有附带微云网盘的下载url）</p>\n<p>前馈神经网络（feed-forward neural network）版本的MNIST，可达到97%：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo5wfcmzj20go05c0wk.jpg\" width=\"600\" height=\"192\"></p>\n<blockquote><p>分享在微云上的数据和源码：</p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//url.cn/44aZOpP\" target=\"_blank\" rel=\"nofollow noreferrer\">微云文件<i class=\"icon-external\"></i></a></p></blockquote>\n<p>（备注：国外网站下载都比较慢，我这份下载相对会快一些，在环境已经搭建完毕的情况下，执行里面的run.py即可）</p>\n<h2>五、和业务场景结合的demo：预测用户是否是超级会员身份</h2>\n<p>根据前面的内容，我们对上述基于softmax只是三层（输入、处理、输出）的神经网络模型已经比较熟悉，那么，这个模型是否可以应用到我们具体的业务场景中，其中的难度大吗？为了验证这一点，我拿了一些现网的数据来做了这个试验。</p>\n<p><b>1. 数据准备</b></p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo5xot1gj20da0hj48f.jpg\" width=\"478\" height=\"631\"></p>\n<p>我将一个现网的电影票活动的用户参与数据，包括点击过哪些按钮、手机平台、IP地址、参与时间等信息抓取了出来。其实这些数据当中是隐含了用户的身份信息的，例如，某些礼包的必须是超级会员身份才能领取，如果这个按钮用户点击领取成功，则可以证明该用户的身份肯定是超级会员身份。当然，我只是将这些不知道相不相关的数据特征直观的整理出来，作为我们的样本数据，然后对应的标签为超级会员身份。</p>\n<p>用于训练的样本数据格式如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo5yg3zsj20gl028q5k.jpg\" width=\"597\" height=\"80\"></p>\n<p>第一列是QQ号码，只做认知标识的，第二列表示是否超级会员身份，作为训练的标签值，后面的就是IP地址，平台标志位以及参与活动的参与记录（0是未成功参与，1表示成功参与）。则获得一个拥有11个特征的数组（经过一些转化和映射，将特别大的数变小）：</p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa33292822339418\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[0.9166666666666666, 0.4392156862745098, 0.984313725490196, 0.7411764705882353, 0.2196078431372549, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0]\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa33292822339418-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33292822339418-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa33292822339418-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0.9166666666666666</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.4392156862745098</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.984313725490196</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.7411764705882353</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.2196078431372549</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0.0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.0</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33292822339418-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n\n</div>\n<p>对应的是否是超级数据格式如下，作为监督学习的标签：</p>\n<blockquote><p>超级会员：[0, 1]</p>\n<p>非超级会员：[1, 0]</p></blockquote>\n<p>这里需要专门解释下，在实际应用中需要做数据转换的原因。一方面，将这些数据做一个映射转化，有助于简化数据模型。另一方面，是为了规避NaN的问题，当数值过大，在一些数学指数和除法的浮点数运算中，有可能得到一个无穷大的数值，或者其他溢出的情形，在Python里会变为NaN类型，这个类型会破坏掉后续全部计算结果，导致计算异常。</p>\n<p>例如下图，就是特征数值过大，在训练过程中，导致中间某些参数累计越来越大，最终导致产生NaN值，后续的计算结果全部被破坏掉：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo5zd72jj20go0kitf0.jpg\" width=\"600\" height=\"738\"></p>\n<p>而导致NaN的原因在复杂的数学计算里，会产生无穷大或者无穷小。例如，在我们的这个demo中，产生NaN的原因，主要是因为softmax的计算导致。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo600ditj206r01udfp.jpg\" width=\"243\" height=\"66\"></p>\n<div class=\"highlight\">\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d464fa33297389995181\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nRuntimeWarning: divide by zero encountered in log\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d464fa33297389995181-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d464fa33297389995181-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d464fa33297389995181-1\"><span class=\"crayon-v\">RuntimeWarning</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">divide </span><span class=\"crayon-e\">by </span><span class=\"crayon-e\">zero </span><span class=\"crayon-e\">encountered </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">log</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d464fa33297389995181-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n\n</div>\n<p>刚开始做实际的业务应用，就发现经常跑出极奇怪异的结果（遇到NaN问题，我发现程序也能继续走下去），几经排查才发现是NAN值问题，是非常令人沮丧的。当然，经过仔细分析问题，发现也并非没有排查的方式。因为，NaN值是个奇特的类型，可以采用下述编码方式NaN != NaN来检测自己的训练过程中，是否出现的NaN。</p>\n<p>关键程序代码如下：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo60nlh1j20f504xwf6.jpg\" width=\"545\" height=\"177\"></p>\n<p>我采用上述方法，非常顺利地找到自己的深度学习程序，在学习到哪一批数据时产生的NaN。因此，很多原始数据我们都会做一个除以某个值，让数值变小的操作。例如官方的MNIST也是这样做的，将256的像素颜色的数值统一除以255，让它们都变成一个小于1的浮点数。</p>\n<p>MNIST在处理原始图片像素特征数据时，也对特征数据进行了变小处理：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo61avbcj20go040ta3.jpg\" width=\"600\" height=\"144\"></p>\n<p>处理NaN问题更专业的方法，就是对输入数据进行归一化处理（min-max标准化或Z-score标准化方法），将值控制在一个可控的范围内。NaN值问题曾一度深深地困扰着我，特别放到这里，避免入门的同学踩坑。</p>\n<p><b>2. 执行结果</b></p>\n<p>我准备的训练集（6700）和测试集（1000）数据并不多，不过，超级会员身份的预测准确率最终可以达到87%。虽然，预测准确率是不高，这个可能和我的训练集数据比较少有关系，不过，整个模型也没有花费多少时间，从整理数据、编码、训练到最终跑出结果，只用了2个晚上的时间。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo61wafzj205s04g74a.jpg\" width=\"208\" height=\"160\"></p>\n<p>下图是两个实际的测试例子，例如，该模型预测第一个QQ用户有82%的概率是非超级会员用户，17.9%的概率为超级会员用户（该预测是准确的）。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo62j93bj209d047jrv.jpg\" width=\"337\" height=\"151\"></p>\n<p>通过上面的这个例子，我们会发觉其实对于某些比较简单的场景下应用，我们是可以比较容易就实现的。</p>\n<h2>六、其他模型</h2>\n<p><b>1. CIFAR-10识别图片分类的demo（官方）</b></p>\n<p>CIFAR-10数据集的分类是机器学习中一个公开的基准测试问题，它任务是对一组32x32RGB的图像进行分类，这些图像涵盖了10个类别：飞机， 汽车， 鸟， 猫， 鹿， 狗， 青蛙， 马， 船和卡车。</p>\n<p>这也是官方的重要demo之一。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611ly1fdmo63jnh4j20db0abn46.jpg\" width=\"479\" height=\"371\"></p>\n<p>更详细的介绍内容：</p>\n<blockquote><p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//www.cs.toronto.edu/%7Ekriz/cifar.html\" target=\"_blank\" rel=\"nofollow noreferrer\">CIFAR-10 and CIFAR-100 datasets<i class=\"icon-external\"></i></a></p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//tensorfly.cn/tfdoc/tutorials/deep_cnn.html\" target=\"_blank\" rel=\"nofollow noreferrer\">TensorFlow 官方文档中文版<i class=\"icon-external\"></i></a></p></blockquote>\n<p>该例子执行的过程比较长，需要耐心等待。</p>\n<p>我在机器上的执行过程和结果：</p>\n<p>cifar10_train.py用于训练：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo64e2suj20go04fwju.jpg\" width=\"600\" height=\"159\"></p>\n<p>cifar10_eval.py用于检验结果：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo64t78oj20go01t753.jpg\" width=\"600\" height=\"65\"></p>\n<p>识别率不高是因为该官方模型的识别率本来就不高：</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611ly1fdmo6596hbj20go04d0uq.jpg\" width=\"600\" height=\"157\"></p>\n<p>另外，官方的例子我首次在1月5日跑的时候，还是有一些小问题的，无法跑起来（最新的官方可能已经修正），建议可以直接使用我放到微云上的版本（代码里面的log和读取文件的路径，需要调整一下）。</p>\n<blockquote><p>源码下载：<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//url.cn/44mRzBh\" target=\"_blank\" rel=\"nofollow noreferrer\">微云文件<i class=\"icon-external\"></i></a></p></blockquote>\n<p>微云盘里，不含训练集和测试集的图片数据，但是，程序如果检测到这些图片不存在，会自行下载：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo65vmamj20go06itce.jpg\" width=\"600\" height=\"234\"></p>\n<p><b>2. 是否大于5岁的测试demo</b></p>\n<p>为了检验softma回归模型是否能够学习到一些我自己设定好的规则，我做了一个小demo来测试。我通过随机数生成的方式构造了一系列的数据，让前面的softmax回归模型去学习，最终看看模型能否通过训练集的学习，最终100%预测这个样本数据是否大于5岁。</p>\n<p>模型和数据本身都比较简单，构造的数据的方式：</p>\n<p>我随机构造一个只有2个特征纬度的样本数据，[year, 1]，其中year随机取值0-10，数字1是放进去作为干扰。</p>\n<blockquote><p>如果year大于5岁，则标签设置为：[0, 0, 1]；</p>\n<p>否则，标签设置为：[0, 1, 0]。</p></blockquote>\n<p>生成了6000条假训练集去训练该模型，最终它能做到100%成功预测准确：</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611ly1fdmo66a7coj206004z3yg.jpg\" width=\"216\" height=\"179\"></p>\n<blockquote><p>微云下载（源码下载）：</p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//url.cn/44mKFNK\" target=\"_blank\" rel=\"nofollow noreferrer\">微云文件<i class=\"icon-external\"></i></a></p></blockquote>\n<p><b>3. 基于RNN的古诗学习</b></p>\n<p>最开头的AI写古诗，非常令人感到惊艳，那个demo是美国的一个研究者做出来的，能够根据主题生成不能的古诗，而且古诗的质量还比较高。于是，我也尝试在自己的机器上也跑一个能够写古诗的模型，后来我找到的是一个基于RNN的模型。RNN<a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//www.baidu.com/link%3Furl%3Dtjmz3SR7imiWMlb9EVZY60Dq_CgrnDRgKHwJnnxhKri24Azf8G6des-foshAxZ04rfZt-dl4_M0v8q6zyScj1BVixC4XZIjOkSZtfgL7I1y\" target=\"_blank\" rel=\"nofollow noreferrer\">循环神经网络(Recurrent Neural Networks)<i class=\"icon-external\"></i></a>，是非常常用的深度学习模型之一。我基于一个外部的demo，进行一些调整后跑起一个能够学习古诗和写古诗的比较简单的程序。</p>\n<p>我的程序默认配置是读取三万首诗（做了一些过滤，将格式有误的或者非五言、七言的过滤掉），执行写诗（让它写了十首）：</p>\n<blockquote><p>画枕江天月似霜，竹房春雪夜中春。今人已向陵边寺，夜客闲行入画舟。云上古来烟雪晚，月寒溪水夜无穷。何因便是鲈根侣，又是离觞酒到年。<br>\n酒渴清秋未可还，年华偏见酒壶钱。无因不自全为叟，自觉平阳似我同。<br>\n棋中春草下春城，更被霜衣独入门。若教未开应要老，无妨归梦不离身。青苔白首无山药，落雪飞来夜夜长。何时未过无惆怅，满溪红土绿荷寒。<br>\n不辞宫树与仙郎，曾与青春得断魂。为向前溪犹绕药，可因心苦雪时春。不须爱尽春来老，自有文师说了何。不必便从归上信，也为言在此花来。<br>\n初时一点锦莲红，曾对仙舆在上河。万卷有时人未见，五金终处更难过。山横海渚人来起，天柳萧森旧殿寒。唯见长州知己所，更从平地作风光。<br>\n去事相来别恨情，年边未是我家贫。花声未觉春多病，白雪无多到日寒。三亩有愁多不定，数千终去故心忙。莫将何用知兄用，犹待青林又不迷。<br>\n子有心才非病拙，一杯曾有白流愁。三朝独到南山晚，白鹤争生未见山。多在玉壶人爱静，只能安稳更堪怜。只惭旧笔同才力，犹恐长心是主机。<br>\n尘末高台入碧霄，故王门户尽知无。黄华只拟相依锁，三落青花亦有时。不见一家相似恨，白衣无限梦长安。<br>\n莫惜花声酒醒杯，未央山冷一枝香。花垂未入东窗晓，雨冷山寒白鹤飞。长是玉山心寂漫，何曾便在旧楼间。时闻此夕来还坐，笑作青苔寄旧游。<br>\n夹江城暖望潾山，山水清深独倚楼。白云半向三山客，万顷东楼日满林。白日夜声多远浪，绿花犹向梦来迟。明年不觉长相见，欲别寒泉又夜流。</p></blockquote>\n<p> </p>\n<p>另外，我抽取其中一些个人认为写得比较好的诗句（以前跑出来的，不在上图中）：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611ly1fdmo66r91pj20go03odh6.jpg\" width=\"600\" height=\"132\"></p>\n<p>该模型比较简单，写诗的水平不如最前面我介绍的美国研究者demo，但是，所采用的基本方法应该是类似的，只是他做的更为复杂。</p>\n<p>另外，这是一个通用模型，可以学习不同的内容（古诗、现代诗、宋词或者英文诗等），就可以生成对应的结果。</p>\n<h2>七、深度学习的入门学习体会</h2>\n<p>1. 人工智能和深度学习技术并不神秘，更像是一个新型的工具，通过喂数据给它，然后，它能发现这些数据背后的规律，并为我们所用。</p>\n<p>2. 数学基础比较重要，这样有助于理解模型背后的数学原理，不过，从纯应用角度来说，并不一定需要完全掌握数学，也可以提前开始做一些尝试和学习。</p>\n<p>3. 我深深地感到计算资源非常缺乏，每次调整程序的参数或训练数据后，跑完一次训练集经常要很多个小时，部分场景不跑多一些训练集数据，看不出差别，例如写诗的案例。个人感觉，这个是制约AI发展的重要问题，它直接让程序的“调试”效率非常低下。</p>\n<p>4. 中文文档比较少，英文文档也不多，开源社区一直在快速更新，文档的内容过时也比较快。因此，入门学习时遇到的问题会比较多，并且缺乏成型的文档。</p>\n<h2>八、小结</h2>\n<p>我们不知道人工智能的时代是否真的会来临，也不知道它将要走向何方，但是，毫无疑问，它是一种全新的技术思维模式。更好的探索和学习这种新技术，然后在业务应用场景寻求结合点，最终达到帮助我们的业务获得更好的成果，一直以来，就是我们工程师的不懈追求。另一方面，对发展有重大推动作用的新技术，通常会快速的发展并且走向普及，就如同我们的编程一样，因此，人人都可以做深度学习应用，并非只是一句噱头。</p>\n<p>参考文档：</p>\n<blockquote><p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//www.tensorfly.cn/\" target=\"_blank\" rel=\"nofollow noreferrer\">TensorFlow中文社区-首页<i class=\"icon-external\"></i></a></p>\n<p><a class=\" external\" href=\"http://link.zhihu.com/?target=https%3A//www.tensorflow.org/\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://www.</span><span class=\"visible\">tensorflow.org/</span><i class=\"icon-external\"></i></a></p></blockquote>\n<p>部分数学相关的内容：</p>\n<blockquote><p>高中和大学数学部分内容</p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//url.cn/44r6LAQ\" target=\"_blank\" rel=\"nofollow noreferrer\">微云文件<i class=\"icon-external\"></i></a></p>\n<p>线性代数视频：</p>\n<p><a class=\" wrap external\" href=\"http://link.zhihu.com/?target=http%3A//open.163.com/special/opencourse/daishu.html\" target=\"_blank\" rel=\"nofollow noreferrer\">麻省理工公开课：线性代数_全35集_网易公开课</a></p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110557\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110557votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110557\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 19 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/xhb7636553\">徐汉彬</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/xhb7636553\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/09/3467c144276101922ea37a5e698e0f17.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            现任腾讯高级工程师（T3-2），QQ会员体系合作线技术团队负责人，负责生活特权和AMS平台（高峰期CGI日请求12亿），曾就职于阿里巴巴、小满科技。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/xhb7636553\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/xhb7636553/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/xhb7636553/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 52</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://hansionxu.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://www.weibo.com/xhb7636553\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "开发,TensorFlow,人工智能,入门", "front_image_path": "full/8cb99be85d24e82ca79e5bd05a9417a6cef00061.jpg", "title": "人人都可以做深度学习应用：入门篇", "url": "http://blog.jobbole.com/110557/", "url_object_id": "a43791db6d2bc2a6398335f493e35003", "create_time": "2017/03/14", "comment_nums": 2, "fav_nums": 19}
{"front_image_url": ["http://wx2.sinaimg.cn/large/7cc829d3gy1fdpmrcg07vj20dw0cata1.jpg"], "praise_nums": "2", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/MiaLiang\">MiaLiang</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://m.facebook.com/story.php?story_fbid=639922279542652&amp;id=100005746562773\">Bruce Lucas</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：2009年，美国 Radford 大学心理学系的 Michael G. Aamodt 博士做了一项关于离婚率的调查研究。博士最初是为了研究“美国执法部门警官的离婚率要远高于其他职业人群的平均水平”这一普遍而奇怪的现象，但此项课题的研究，还顺带产生了许多有用的副成果。发现绝大多数工程专业的从业人员的离婚率都位于 13% 以下。详情看这里：<a href=\"http://blog.jobbole.com/86055/\" target=\"_blank\">http://blog.jobbole.com/86055/</a></p>\n<p>国外程序员 Bruce Lucas 今年 1 月份在 Facebook 发的一个帖子。他认为是程序员是可靠的约会对象和伴侣选择，列举了 20 个理由。</p>\n<hr>\n<h3>1、程序员聪明</h3>\n<p>他们透彻掌握自己知道的东西，并且总是在学习新东西。当遇到不懂的事时，他们热衷于去学习。他们从小就有了这种心态，因而积累了很多知识，随时准备与他人分享。</p>\n<h3>2、他们会珍视你们之间的感情/关系，且意识到并不是每个人都有火辣的身材</h3>\n<p>这是真的。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fdpmrcg07vj20dw0cata1.jpg\"></p>\n<h3>3、程序员是问题解决者</h3>\n<p>如果事情出错了，他们会竭尽全力解决（fix）。</p>\n<h3>4、相对其他人群来说，程序员都有可观的收入</h3>\n<p>和你交往的程序员很有可能非常富有，因此你大可放心的在一个高级场所就餐，而且不需要担心要掏腰包。</p>\n<p>Mark Zuckerberg 是世界上最富有、最成功和最有能力的科技企业家之一。他是通过 Facebook 社交网络改变世界的程序员。如果你正在找寻一个成功的伴侣，绝大多数程序员有资格做到。</p>\n<h3>5、程序员一般都不缺幽默感</h3>\n<p>Builds failing, code breaking。良好的幽默感，是每个程序员都要具备的。</p>\n<h3>6、程序员注重细节</h3>\n<p>你正在找一个会注意你的人？优秀的程序员总是注重细节。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fdpmjs4upaj20dw0as75d.jpg\"></p>\n<h3>7、三思熟虑</h3>\n<p>为了用户做优秀产品，他们会花很多时间。这就涉及到理解用户、了解用户需求以及知道他们不喜欢什么。因此他很可能有非常强的感受能力。为什么你有时候会举止异常，他会懂的。在对你做一些可能会影响你的事情前，他会再三考虑。</p>\n<h3>8、程序员通常对自己的职业感到满意</h3>\n<p>这意味着如果你和程序员约会，在家中会有较少的压力。</p>\n<h3>9、程序员是理性物种，少和他们玩心理游戏</h3>\n<p>心理游戏是没啥逻辑，所以程序员不会跟你玩这种游戏。当然了，视频游戏中的心理游戏可能例外了。</p>\n<h3>10、程序员是思考者和学习者</h3>\n<p>他们会喜欢和你进行一次有趣的、深思熟虑的对话，他们会欣赏你的观点。</p>\n<h3>11、</h3>\n<p>如果上面的理由都不能说服你，这一个绝对会。<strong>他所有的人际技巧，让他成为完美的男朋友人选；他的理性将使他成为一个成熟而明智的伴侣。</strong></p>\n<p>程序员最突出的特点是十分尽忠。最有天赋的程序员不一定做收入最高的工作。即使他们可以赚很多很多钱，他们仍会选择最触动他们情感的项目去做。一旦他认定了你，再漂亮的女孩也引诱不了他们。他是你的，他值得拥有。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fdpmrd6w8ij20dw09a0to.jpg\"></p>\n<h3>12、程序员真的是很好的人</h3>\n<p>一直是！</p>\n<h3>13、程序员有激情；</h3>\n<p>他们是一群有激情的人，会把他们所有时间和精力花在他们心爱的事物上。</p>\n<h3>14、优秀的程序员有耐心</h3>\n<p>如果程序员能在无数行代码中寻找一个分号，这意味着他们拥有足够的耐心。</p>\n<h3>15、程序员可能比较害羞，但他们极其坦率</h3>\n<p>所以如果他们感受到了什么，他们一定会当面告诉你。虽然这可能不是你一直想要的，但是你可以相信这个人对你真诚。</p>\n<h3>16、虽然程序员不是修电脑的，但对你会例外</h3>\n<p>你的电脑坏了？程序员知道为什么，并且能电脑运行得更快！</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611gy1fdrb0znktdj20go0go0wr.jpg\" width=\"446\" height=\"446\"></p>\n<p style=\"text-align: center\">（喜欢这款T恤的，<a href=\"https://item.taobao.com/item.htm?spm=a1z10.1-c.w4004-15063610009.41.mmsx1s&amp;id=546384800820\" target=\"_blank\">请移步这里</a>）</p>\n<h3>17、程序员不难找</h3>\n<p>他们总是在网上而且等着你！！！ 小编补充：再次推荐「<a href=\"http://date.jobbole.com/?sort=latest\" target=\"_blank\">面向对象</a>」征友活动，虽然只发布单身女生的信息，但非常值得单身男保持关注。从这里可以看到最新发布的单身女生信息：<a href=\"http://date.jobbole.com/?sort=latest\" target=\"_blank\">http://date.jobbole.com/?sort=latest</a></p>\n<h3>18、程序员能维持长久的关系</h3>\n<p>因为他对处理异常、重新检查他的代码、接受自己的错误非常有经验。最重要的是，他从不让他的自负影响他的行为。因为如果你尝试过调试代码，你会意识到，即使是最困难的关系问题，都会有简单的解决办法。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fdpmjqz8tlj209g0citdz.jpg\"></p>\n<h3>19、程序员都比较温柔和敏感</h3>\n<p>原因之一是他们知道什么时候应该对他们的伴侣妥协。当你某天过得不好，想对人抱怨一下生活中烦心事的时候，他们会在你身边聆听。即使你碰巧责备他们是所有坏事的源头，为了让你感觉好点，他们会选择对你妥协而不是跟你争吵。</p>\n<hr>\n<h3>小编后话：</h3>\n<p>喜欢一样东西或一个人，你能找出很多诸多理由了。讨厌起来，也能找出 N 多理由。</p>\n<p>欢迎大家留言。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110595\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110595votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110595\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 7 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/MiaLiang\">MiaLiang</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/MiaLiang\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/13bf5e68935f892cdea9821c47a12c11.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Hello我是Mia Liang，关注前端，期望成为前端开发工程师        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/MiaLiang\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/mialiang/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/MiaLiang/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"QQ：1484265623\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：mia_LSW\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "其他,约会", "front_image_path": "full/045121baaca13779b5fc617cee060a500caf6831.jpg", "title": "为什么该和程序员约会？我有 20 个理由", "url": "http://blog.jobbole.com/110595/", "url_object_id": "2aee19743fefa2c9527dd1cb9e90560f", "create_time": "2017/03/18", "comment_nums": 7, "fav_nums": 3}
{"front_image_url": ["http://wx1.sinaimg.cn/mw690/63918611gy1fdwpuw2zfsj20m50j2ttt.jpg"], "praise_nums": "2", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q69039280\">牧师</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.wired.com/2017/02/programming-is-the-new-blue-collar-job/\">Wired</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：提起程序员，在很多人的印象里是扎克伯格那样的人用技术改变世界，然而现实是像小扎那样的人只是很小一部分，更多人拿着平常的薪水做着默默无闻的工作。《连线》文章认为，未来的蓝领职业就是程序员，工作中往往不需要高深的算法知识，甚至不需要上大学，经过一定的学习培训就可以写出需要的东西，比如一个银行的网站。<b></b></p>\n<p>当我要求别人描述一个程序员时，他们通常把我想象成马克-扎克伯格那样：穿着连帽衫的大学退学生，在72小时的疯狂编程中构建出一个应用，他们的目标是变得富有和——“<span style=\"color: #ff0000;\">改变世界</span>。”</p>\n<p><img class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fdwpuw2zfsj20m50j2ttt.jpg\" width=\"487\" height=\"419\"></p>\n<p style=\"text-align: center;\">（图：ZOHAR LAZAR）</p>\n<p>但对于硅谷的刻板印象并不准确，硅谷雇员只占全美程序员的 8%，那么其他数百万程序员呢？他们更多的是像 Devon 一样，Devon 是我认识的一个程序员，他在俄勒冈州的波特兰市维护一项安全软件服务。他并不是很有钱，但是工作稳定，收入也不错：一周 40 小时的工作，不错的收入，工作上还有智力的挑战。“我父亲以前是个蓝领”，他告诉我。但是从许多方面来讲，他也是个蓝领。</p>\n<p>政客们常常抱怨失去了优秀的蓝领职业。这样的工作被视为文明中产社会的核心。而且它可能会失去一次。如果下一个巨大的蓝领工作职业已经出现了呢？它会是编程这项工作吗？如果不把编程看作是高回报、性感的工作，它与克莱斯勒工厂的熟练工有什么区别？</p>\n<p>除此之外，它将改变编程工作的培训方式。这些人被鼓励去追求这些。就我的朋友 Anil Dash 来说，他是一个技术思考者、老师和商人，他不会花费很多的时间去督促孩子利用四年宝贵的时间来获取计算机科学学位，而会在高中就给孩子更多的专业代码练习。你能在社区学院学会如何编程。处于职业生涯中的人将会参加几个月的紧张编程训练，就像 Dev Bootcamp。这种培训会很少把注意力集中在精英教育上，而更多集中在普通人的培训上。</p>\n<p>这种类型的程序员不需要高深的知识，也不需要去研究更多新的快速交易和神经网络的算法。他们为什么需要做这些（研究）？需要专家水平的工作毕竟很少。但是任何蓝领程序员都能轻松胜任为本地银行写 JavaScript 的工作。这是非常稳固的中级工作，并且工作数量还在不断上涨：全美 IT 职业的平均工资是 8.1 万美元（比全美工资水平的2倍还多），并且 IT 领域从 2014-2024 还要再扩大 12%，比其他职业快的多。</p>\n<p>全美范围内，人们都在抓住这个机会，特别受到去工业化打击最严重的州。在肯塔基，挖矿老手 Rusty Justice 决定用编程来取代挖煤。他是 Bit Source 的联合创始人，Bit Source 是一个编程商店，业务是培训矿工编程。人们对此的热情格外高涨：一共有 950 人申请了 Bit Source 第一期班的 11 个名额。事实证明，矿工习惯于深度专注，团队协作，以及在复杂的工程环境中工作。“矿工是真正的技术工人，只不过工作环境很脏，”Justice 说。</p>\n<p>同时，田纳西州一个非营利组织 CodeTN 正在鼓励高中学生进入社区学院学习编程。一些学生和老师担心孩子们不能适应扎克伯格的陈词滥调。”这是文化的信使”，CodeTN 的联合创始人 Caleb Fristoe 说，“我们想要让更多的雇主表示，‘是的，我们只是需要一个能管理登录界面的人’”，他说，“你不必非得是一个巨星”。</p>\n<p>确切来说，现在确实需要超级巨星。公司和学术界的那些严肃的创新者开创一个新的领域，比如说机器学习。但是这并没有杜绝一种新的主流观点的产生，那就是大部分程序员的真实工作是怎样的。坦率的讲，在几十年来的流行文化中，比如我这样的作者，过分突出了“孤独的天才”这一程序员形象。我们满足于《社交网络》、《匿名者》、《硬核》中程序员夹克，T恤的装扮。但真实的英雄是每天上班并做好工作的人，不论他是汽修工、矿工还是程序员。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110653\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110653votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110653\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q69039280\">牧师</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q69039280\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/054C606B0E1407989F7D4399154CDD9A/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Android ROM，APP        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q69039280\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q69039280/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q69039280/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "职场,程序员,职场", "front_image_path": "full/31aca9cd0064507f7af543018f7e3ff880c0a790.jpg", "title": "下一代蓝领职业大军是程序员", "url": "http://blog.jobbole.com/110653/", "url_object_id": "8121e6af4f6cb2c8e21d14bb1aece15a", "create_time": "2017/03/23", "comment_nums": 1, "fav_nums": 1}
{"front_image_url": ["http://tech-blog.oss-cn-hangzhou.aliyuncs.com/requirements-specification-apes-dog-fight.jpg"], "praise_nums": "2", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/charliechu/p/6553988.html\">CharlieChu</a>   </div><div id=\"cnblogs_post_body\">\n<p>在很多软件公司，特别是一些创业型的团队中，对于这样的情景可能大家都很熟悉：项目经理或者产品经理（<strong>产品狗</strong>）口头或者简单记录一下软件产品的大致要做的功能，直接就让研发团队的兄弟（<strong>程序猿</strong>）去狂撸代码。然后他就去喝茶撩妹或者回家陪老婆了…</p>\n<p>这种撸起袖子就开干的方式，看似简单高效，便于直接沟通，能够快速迭代。却不知，发现没有一份正规且实时更新的功能需求设计文档，会付出三四倍的代价来弥补。</p>\n<p>最终会引发一场产品狗和程序猿之间的“<strong>猿狗大战</strong>”…</p>\n<p><img src=\"http://tech-blog.oss-cn-hangzhou.aliyuncs.com/requirements-specification-apes-dog-fight.jpg\"></p>\n<h1 id=\"why---为什么需要功能需求设计说明书\">WHY – 为什么需要功能需求设计说明书</h1>\n<p>在没有功能设计文档时，主要有如下几个问题：</p>\n<ul>\n<li><strong>前期研究团队沟通成本</strong></li>\n</ul>\n<p>如何要让团队里面的所有人员对软件产品的功能需求设计有一个共识？<strong>没有功能设计文档，反正我是想不出有什么办法</strong>。当该项目的团队人员越多，沟通成本就变得很高。</p>\n<p>研发人员很容易有一个通病：以为自己了解了一小块需求就立即开始埋头狂撸……代码。最终很可能与项目经理和客户真正想要的功能相差甚远。</p>\n<p>更可怕的，研发人员把数据库设计好了，代码也已经写得差不多了，这时产品狗突然跑到程序猿这，说我们的需求要做一点变化，大家都知道，“<strong>对产品狗来说那一点变化，可能会害得程序猿撸过几天几夜</strong>”。那很小的变更可能导致之前设计的数据库，码的代码都不能用了。对于程序猿<strong>没有什么比加班加点写了几个月的代码，最终被产品狗告知需求变了</strong>，代码要删除重新写更可怕的。估计<strong>只能用涨工资来安慰一下那受伤的心灵了</strong>。</p>\n<p><img src=\"http://tech-blog.oss-cn-hangzhou.aliyuncs.com/requirements-specification-1.png?x-oss-process=style/scale-width-400\"></p>\n<p>还有一个比较隐藏的事情是，每个程序猿都认为自己写的代码很牛逼（其实对于大多数人这只是一个错觉，你写得代码并不优秀），不太愿意删除之前所写的东西，总是想在原有的代码基础上进行修改，<strong>让他们删除代码比杀了他还难</strong>。</p>\n<p>作为公司的技术负责人，我每几天都会Code Review团队里面所有人的代码，一直要求他们把不用的代码去掉，但他们的应对方式总是加两个<code>//</code>。注释掉他们写的代码，而不是去做真正的删除动作。他们总有自己的理由，<strong>“这只是暂时注释掉，后面会用到”</strong>，但最终的结果是那些代码就像尸体一样，一直在那里，干扰着团队人员正常的思路。所以我只能强制性让他们那些“暂时没有用，以后会用到的代码”干掉 。</p>\n<ul>\n<li><strong>前期任务进度安排和分配</strong></li>\n</ul>\n<p>该文档也是任务进度安排和分配的重要依据。<strong>在没有功能需求设计文档之前的所有任务进度计划都是瞎扯淡</strong>，都不知道具体要做什么东西，哪能拿出合理的任务进度计划。如果你拿出来了，我也不相信那是经过认真分析做的进度计划，我知道那只是用来看领导看的。</p>\n<ul>\n<li><strong>中期产品经理需求变更</strong></li>\n</ul>\n<p>软件在开发过程中难免会遇到功能的需求变更，将程序猿们召集在一起把所有的变更讲一遍？当走出会议室的时候可能每个人都有自己的理解。<strong>下一场战争已悄然临近…</strong></p>\n<p><img src=\"http://tech-blog.oss-cn-hangzhou.aliyuncs.com/requirements-specification-apes.jpg\"></p>\n<ul>\n<li><strong>后期测试团队产品测试</strong></li>\n</ul>\n<p>测试团队应该在项目Kickoff之时就应该介入，而不是在产品开发完成之后。测试团队应该对功能需求设计文档充分了解，且以此来编写具体的测试用例文档。否则，只能是在界面上进行简单的表面测试，而真正的BUG并不在表面，这些BUG会藏得很深，等发现的时候可能已经造成很大的损失。测试团队想覆盖全部的测试用例此时已经相当困难，他们甚至都不知道产品有哪些功能。</p>\n<p>测试用例应该尽可能详细，尽量保证测试用例走完能确保产品能上线发布。下图为我们在登录注册时用到的一部分用例：</p>\n<p><img src=\"http://tech-blog.oss-cn-hangzhou.aliyuncs.com/requirements-specification-testcase.png\"></p>\n<h1 id=\"where---文档应该放在何处\">WHERE – 文档应该放在何处</h1>\n<p>功能说明文档一定要保持实时性，任何变更的需求，新增的需求都必须在该文档中体现。</p>\n<p>一只产品狗（或一群）在编写完文档后，要发给项目经理、研发人员、销售人员、运营推广人员等人，如何保证每个人的文档都是最新的呢？如果通过QQ，邮件等方式，是不是每次更新都要重新通知所有人：“嘿，各位兄弟，文档作了一次修改，我给大家都重新发一份新的”。每个人电脑里面都有好几个版本的文档，时间长了，自己都忘记哪个文档是最新的；产品狗也记不清是否是所有相关的人都发了最新的文档。</p>\n<p>研发人员可能会说通过SVN来作版本管理啊，给每个人分配一个帐号。“天啊，SVN是啥？”-销售人员、运营推广人员估计一脸懵逼。</p>\n<p>更好的办法是通过团队实时协作的云端工具。从而实现分享和实时讨论，告别反复修改版本再发送邮件的麻烦。如果你会FQ，那你可以使用<a href=\"https://www.google.com/docs/about/\">Google Docs</a>、<a href=\"https://www.office.com/0/?ui=zh-CN&amp;rs=CN&amp;auth=1\">Office Online</a>。否则你可以使用<a href=\"https://shimo.im/\">石墨文档</a>、<a href=\"https://yiqixie.com/\">一起写</a>。</p>\n<h1 id=\"what---什么是功能需求设计文档-应该包含那些内容\">WHAT – 什么是功能需求设计文档 &amp; 应该包含那些内容</h1>\n<p>功能需求设计文档最重要的是描述产品所要包含的所有功能，越详细越好，可以结合产品的<strong>原型设计图</strong>来讲解。让项目所有相关人知道产品是什么，包含哪些页面，页面如何跳转等。</p>\n<p>该文档是产品经理、项目经理、研发人员、销售人员、运营推广人员沟通的一个桥梁，一份好的功能需求设计文档是软件产品是否能成功的关键。</p>\n<p>考虑是该文档的受众，这份文档不应该包含具体的编程技术上的说明。不管你是用C#/.NET、JAVA还是其它，这应该是另外研发团队内部使用的一份文档。</p>\n<p>一般人第一反映就是去网上找一份功能需求设计文档模板，我个人感觉那些模板90%根本没有存在的必要。都太过形式化，不要没有实际意义和模板化的内容，只会使文档成为一个摆饰，反而是在浪费大家的时间。</p>\n<p>那么一份合格的软件需求设计文档应该包括哪些内容呢？</p>\n<ul>\n<li><strong>项目背景</strong></li>\n</ul>\n<p>项目产生的实际背景、具体的运用场景、大致要解决什么样的问题、针对的阅读对象、版本修改记录、文档作者以及修改人信息。</p>\n<ul>\n<li><strong>详细的功能点描述</strong></li>\n</ul>\n<p>写明产品所包含的所有功能点，对功能、界面、接口的描述一定要充分详细，每处可以交互的地方都要给出具体的说明。再次强调，一定要<strong>详细描述每一个页面所拥有的功能</strong>。</p>\n<ul>\n<li><strong>产品不包含的功能点说明</strong></li>\n</ul>\n<p>除了写明产品所包含的所有功能点外，还应该写明软件所不包含的功能，这一点也很重要。</p>\n<ul>\n<li><strong>使用场景（画面感）</strong></li>\n</ul>\n<p>将复杂的业务逻辑融入到具体的<strong>使用场景</strong>中，更容易让项目经理、研发人员、销售人员、运营推广人员不同背景的人产生共识。</p>\n<ul>\n<li><strong>流程图</strong></li>\n</ul>\n<p>大家都知道“一图胜千言”，能用图说明的尽量用图来说明，只通过大量枯燥的文字可能效果并不太好。流程图是一种用图形表示逻辑和算法的工具，特别对研发人员撸代码很有帮助。<br>\nWindows用户可以使用Visio，Mac用户可以使用<a href=\"https://www.omnigroup.com/omnigraffle/\">OmniGraffle</a>，还可以使用免费在线作图,实时协作工具<a href=\"https://www.processon.com/\">ProcessOn</a>。</p>\n<p>我之前就用ProcessOn画了一个设置了缓存的网络请求的流程图，这里作个参考：</p>\n<p><img src=\"http://tech-blog.oss-cn-hangzhou.aliyuncs.com/sample-flowchart-template.png\"></p>\n<ul>\n<li><strong>人员角色“实例化”</strong></li>\n</ul>\n<p>跟上面提到的“画面感”相结合，将人员和角色能够实例化。比如我们的产品要实现如下功能，有两种表达方式：</p>\n<blockquote><p>医生给患者测量血压，并记录到系统中。</p></blockquote>\n<blockquote><p>上海华山医院肾内科的王主任医生在给32号病区1号病床的患者刘阿姨测量血压，将测量到的血压<code>100/70mmHg</code>输入到透析管理系统。</p></blockquote>\n<p>哪种方式更便于理解？特别是对医疗知识不太了解的码农们。当然可能有人觉得第一种方式更简洁。可能是我举的例子不够好，也可能是我的理解能力不够强。（但不要怀疑我的智商！哈哈哈…）</p>\n<ul>\n<li><strong>结合产品原型设计图</strong></li>\n</ul>\n<p>产品原型设计图可以粗枝大叶地产品大致的框架。便于项目经理、研发人员、销售人员、运营推广人员等人在产品未开发之前对产品有一个相对直观的认识。没有一个原型图，想到这帮人拉到同一个频道沟通一定是不可能的事。（如果你做到了，那么赶紧把你的简历发我，我决定录用你！）</p>\n<p>常用的原型设计工具有<a href=\"https://modao.cc/\">墨刀</a>、<a href=\"https://www.mockplus.cn/\">Mockplus</a>、<a href=\"https://www.axure.com/\">Axure</a>。</p>\n<p>扯了这么多，来个例子吧。</p>\n<p> </p>\n<p>本软件是给北京某医院集团肾内科透析患者所使用的软件，包括院内管理系统、院外大数据平台、医护端APP、患者端APP…</p>\n<table>\n<thead>\n<tr class=\"header\">\n<th>版本</th>\n<th>作者</th>\n<th>修订时间</th>\n<th>审核人</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>v1.0.0</td>\n<td>Charlie Chu</td>\n<td>2017-2-12</td>\n<td>Vivian Wong</td>\n</tr>\n</tbody>\n</table>\n<p><strong>使用场景一</strong>：</p>\n<p>肾内科的医生王医生给31号病床刘阿姨进行透析上机操作，王医生在院内透析管理系统上点击上机操作，信息会传递到院外的大数据平台以及医护端APP、患者端APP上…</p>\n<p>刘阿姨患者的家属登录到患者端APP后，可以实时查看刘阿姨透析过程中的所有信息，还可以查看血压、血糖、体重等历史数据…</p>\n<p>当刘阿姨在家中通过蓝牙血压计测量血压时，自动同步到医院内部，如果刘阿姨的血压超过预先设置的值，院内的王医生则会在自己的手机上查看到刘阿姨的血压异常报警信息，王医生可以立即跟刘阿姨的家属进行实时沟通…</p>\n<p>…&lt;此处省略N字&gt;…</p>\n<p>本软件(v1.0.1版本)不包括的功能需求如下：</p>\n<ul>\n<li>医生与患者的实时IM</li>\n<li>医生排班设置</li>\n<li>修改密码</li>\n<li>患者积分</li>\n</ul>\n<p><strong>功能模块详细描述</strong>：</p>\n<p><strong>一、APP登录页面</strong></p>\n<p>由于本产品不存在患者自己注册的场景，所有的患者录入都发生在院外透析系统中，患者及家属在院外只需要输入相应的手机号，即可登录系统。</p>\n<p>登录页面只有两个输入框，一个手机号，一个密码。</p>\n<p>当用户要输入手机号时，手机应该弹出纯数字键盘，最多只能输入手机号固定的11位。密码最多输入10位。</p>\n<p>当用户点击登录时，APP与后台服务器进行交互：</p>\n<ol>\n<li>不输入手机号和密码，直接点击登录按钮，应该提示用户输入手机号和密码。</li>\n<li>输入手机号但不输入密码，点击登录，提示“请输入密码”。</li>\n<li>输入不正确的手机号，点击登录，应该提示“不存在该用户”。</li>\n<li>输入小于11位的手机号，应该提示“请输入正确的手机号”。</li>\n</ol>\n<p><strong>二、登录后首页</strong></p>\n<p>下图是左侧是一个首页，右侧是一个点击透析预警的详细页面:</p>\n</div>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/large/63918611gy1fdutkmncwvj20r40o2k2z.jpg\" width=\"976\" height=\"866\"></p>\n<p>首页包括功能点：</p>\n<ol>\n<li><strong>资讯信息轮播</strong> 首页顶部资讯信息轮播功能，点击可以跳转到新的页面可以查看资讯详情。</li>\n<li><strong>病情咨询</strong> 点击“病情咨询”模块，患者查看向指定的医生了解自己的病情。</li>\n<li><strong>透析记录</strong> 点击透析记录，患者可以随时随地查看自己的过往透析记录。</li>\n<li><strong>食物速查</strong> 点击食物速查，可以查看所有类别的食物成份含量。</li>\n<li><strong>透析上下机实时信息列表</strong> 当患者在医院内进行透析上下机等操作时，会记录患者的透析上机时间 、下机时间等信息。点击其中的一条记录，跳转到透析详情页面，如上图右侧所示。</li>\n</ol>\n<h1 id=\"how---如何保证文档质量\">HOW – 如何保证文档质量</h1>\n<p>要保证文档能够实时更新同步，而不是疲于应付。那就是让大家都通过该文档来进行沟通，谁有问题直接去看文档，需求一旦变更首先就更新到文档。</p>\n<p>研发人员严格按文档上的描述来开发，<strong>在没有文档之前，对不起，拒绝开发！</strong>任何口头、QQ或邮件上的新的功能需求一概不理！提前是产品狗要比较给力，否则老板还是会让你狂撸代码…</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110645\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110645votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110645\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "开发,需求", "front_image_path": "full/ae50e3174376a1a13d1ed7cd64a803549b755f1f.jpg", "title": "没有功能需求设计文档？对不起，拒绝开发！", "url": "http://blog.jobbole.com/110645/", "url_object_id": "20ad287c7097190e4e559e07a2a915d9", "create_time": "2017/03/21", "comment_nums": 3, "fav_nums": 4}
{"front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1fdlbqhy3zgj20bo0860u2.jpg"], "praise_nums": "1", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/lizhe_617\">破晓</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://priceonomics.com/stack-overflow-and-the-zeitgeist-of-computer/\">priceonomics</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1fdlbqhy3zgj20bo0860u2.jpg\"></p>\n<p>讽刺新闻网站 Allium 曾吐槽到，「计算机编程铁律」将会被正式命名为「Google 一下，然后 Stack Overflow」。就像其他一些精彩的吐槽那样，这个玩笑并非无中生有。为何会这样说，请参见伯乐在线这篇文章《<strong><a class=\"row-title\" href=\"http://blog.jobbole.com/86184/\">如何编程？四步走，So easy！</a></strong>》。</p>\n<p>Stack Overflow 是一个面向程序员的问答网站，2015 年时每天有 760 万的访问量，是当时世界上访问量第 57 位的网站，位列 Craigslist、ESPN 和 PornHub 之前。对在编程中遇到困难的人来说，Stack Overflow 就是庇护所。无论新手还是老手，都把 Stack Overflow 作为一个主要的资源网站。不确定如何解决一个难题？把这个问题放在 Stack Overflow 上。一般来讲，半个小时之内这个问题就会被其他的用户解决（不花费你任何东西）。但切记，如果你不想让你的问题被草草地浏览，请把你的问题写清晰明了。</p>\n<p>自从 2008 年被著名博主 Jeff Atwood 和 Joel Spolsky 建立之后，Stack Overflow 迅速成为一个针对程序员的优秀问答网站。现在，Stack Overflow不再仅仅是一个学习编程的资源网站，而且对于了解编程世界的动态也是十分的有用。编程世界正在变得越来越重要，但是对于外行人而言，又好像是无法理解的。</p>\n<h3>我们能从Stack Overflow上的数据了解到有哪些有意思的东西？</h3>\n<p>出于这个好奇，我们分析了在Stack Overflow上超过1100万个问题的帖子。我们用这个数据来寻找，在编程世界里被讨论次数最多的主题，和发现哪些主题正在越来越热门，又有哪些主题呈下滑的趋势。</p>\n<p>在成立之初，Jeff Atwood 把 Stack Overflow 形容为一个“具备维基百科和编程版reddit功能”的问答网站。Stack Overflow 区别于其他网站的一个因素就是，所有在Stack Overflow上提出的问题和答案都是基于一个具有创造性且通用的规范，而且是不用付会员费的（比如Experts-Exchange，Stack Overflow的一个竞争者，网站的会员需要交纳月费）。Stack Overflow 这个名字是在 <a href=\"https://blog.codinghorror.com/help-name-our-website/\">Atwood 的</a>博客上的一个选名字活动的投票结果，Stack Overflow 是一个编程术语，是指当计算机程序尝试使用比实际可用内存更大的空间时出现的一个错误。</p>\n<p>自2008年以来，Stack Overflow上已经有超过 <a href=\"http://stackexchange.com/sites#traffic\">1100 万个问题</a>和 <a href=\"http://stackexchange.com/sites#traffic\">1700 万个答案</a>（只有27%的问题是没有被回答的，一个同样的问题可能有多个答案）。下图显示了 SO 建立以来每个月提问问题的数量。现在，每个月提问的问题大约有40万个。下图中所有使用的数据都是我们从Stack Overflow”<a href=\"http://data.stackexchange.com/stackoverflow/query/59301/questions-per-month-top-10-tags-compared\">数据探测器</a>“收集来的。(数据探测器中使用的查询是 SO 用户 <a href=\"http://stackoverflow.com/users/17174/sam-saffron\">sam.saffron</a> 写的)。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1fdlbrje26kj20m40de3zi.jpg\"></p>\n<h3>这些问题的本质告诉我们一个什么样的编程世界的现状呢?</h3>\n<p>当用户要在StackOverflow上发布问题时，用户必须给这个问题加标签，以便于这个问题的分类。这些”标签”有助于其他程序员找到这个问题，而这些程序员可能会对解决这个问题提供一些帮助。精通”Java”的用户会搜索和”Java”标签相关的问题。<strong>Stack Overflow 用户解决问题的初衷，即出于来自内心的善意，也出于当他的声望值提升时的那种自豪感（后者占到的比重更大一些）。</strong></p>\n<p>StackOverflow 网站有超过400个标签涉及1万个以上问题。其中 JavaScript、Java、C#、Android 和 jQuery 是 前 TOP 6 ，所覆盖的问题总数已超过 675 万个。Python 标签排第七，其问题数已接近 50 万个。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1fdlbrojw3fj20q50fm0tq.jpg\"></p>\n<p>上图显示Stack Overflow建立以来每一个标签下的问题总数，但编程世界正在快速的变化之中。StackOverflow中的标签让我们能够跟踪这些变化。</p>\n<h3>Top 6 标签每月的问题数量</h3>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1fdlbrtabw5j20pk0fuwgh.jpg\"></p>\n<p>每个月有关JavaScript 的问题数量几乎是呈线性的持续的增长的，而 jQuery，一个JavaScript 的模块，每个月的问题数量正在呈一个下滑的趋势。这些变化可能是一个这些语言或者工具的受欢迎程度的一个反应，但是也可能仅仅是StackOverflow用户组成变化的一个结果。</p>\n<p>我们好奇的是，能否使用一个标签下面问题的数量来得知当前程序世界的热门话题是什么。我们从500个标签中挑选出始终是最热的一些标签，见证了在2014年十月到2015年十月之间每月最大的问题增长量。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1fdlbrxo4jvj20qt0fomyf.jpg\"></p>\n<p>Android-Studio 标签到目前为止是在任何主要标签在过去一年中拥有最大的增长量。 Android-Studio是一个用于在Android平台上开发的集成开发环境。 2014年10月，Android-Studio只有383个问题，但2015年10月有1,236个问题。</p>\n<p>许多其他显示增长最快的标签，包括与Web /云开发（API 和 Amazon-web服务）和数据分析（pandas和图表）相关的标签。 当然，是时代的标志。</p>\n<h3>哪些标签似乎正在走下坡路？</h3>\n<p>一般来说，代表下降年数最多的标签多指的是过时版本的平台，如 iOS7 和 Windows 8。 如果我们只包括那些在 2012-2015 年有一百个问题的标签，我们得到一个更有趣的列表。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1fdlbs6dimtj20qc0fwabc.jpg\"></p>\n<p>虽然上面的图表中的一些标签主题逐步淡出当今的编程舞台（例如 Flash、Silverlight 或许 Emacs），但标签在 Stack Overflow上走下坡路不一定表示人们失去了兴趣。 这可能只是关于较小主题领域的问题已经饱和，没有更多的问题需要提出。</p>\n<p>Stack Overflow的成功归功于其数以百万计的用户。 2013年的一项研究发现，只有 8％ 的用户回答了超过 5 个问题（用户被定义为近500万拥有 Stack Overflow 帐户的人）。许多没有注册的人也在使用该网站。 事实上，我们发现在一天的时间里，25％的答案来自Stack Overflow的数百万用户之中1000人。</p>\n<p>Stack Overflow 有个特点，用户通过回答和提出问题可以获得「声望值」。用户已经反应，积累声望值或者获得Stack Overflow颁发和声望值有关的奖章，是让人非常上瘾的事情。</p>\n<p>回答最多问题的用户（如 Jon Skeet 和 T.J. Crowder）已经成为程序明星。声望值越高，在 SO 网站上具有更大的权限（例如，编辑问题和投票以关闭问题的能力），并且还可以帮助用户获得咨询工作。</p>\n<h3>Stack Overflow 声望排行榜</h3>\n<p>下表显示了在所有时间内，声望值分数最高的个人，以及他们回答问题的主要标签。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1fdlbs9c1b9j20ea0c840p.jpg\"></p>\n<p>虽然很很多人都认为 Stack Overflow 是一个不可思议的资源，但是一些程序员还是有一些疑虑。第一，许多用户对社区文化的发展表示失望。他们认为社区已经过分关注声望值，并已成为新用户受到嘲笑的地方。开发人员John Slegers 在 Medium 写道，<a href=\"https://medium.com/@johnslegers/the-decline-of-stack-overflow-7cb69faa575d\" target=\"_blank\">一些高声望用户已经成为“超级巨人”</a>。</p>\n<p>其他人则担心 Stack Overflow 已影响编程基础。一些批评者认为，开发人员现在可以寻求 Stack Overflow 用户为他们解决问题，而不是靠自己真正地努力去解决问题。提问者可以接收并使用他们不真正理解的代码的方案，他们只是知道方案能解决他们的问题。当需要调整时，这可能导致长期的问题。自称的“开发者传道者” 的Christian Heilmann 表示，这些只会复制粘贴 Stackoverflow上的答案的程序员是「Full Stackoverflow Developer」（这是一个相对于「Full-Stack Developer | 全栈开发者」的双关语）。</p>\n<p>尽管如此，该网站仍然是许多编程社区的中心资源。程序员 Jason Sachs 对 Stack Overflow 的<a href=\"http://www.embeddedrelated.com/showarticle/741.php\" target=\"_blank\">某些方面表示了不满</a>，但他仍然相信 SO 的用户群体、优秀的用户界面和快速的答案，是一个可以经常得到“绝妙帮助”的地方。</p>\n<p>即使就是写这篇文章时，也「咨询」 Stack Overflow 多次了。在收集数据、创建图表和理解社区的文化和方向的过程中，Stack Overflow 的问答贴不可或缺。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110437\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110437votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110437\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 4 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/lizhe_617\">破晓</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/lizhe_617\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/cb4acae0080c6b67975502dbdaf4e0b9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            很普通的小码农, 喜欢很喜欢做一些简化工作的小工具, 喜欢python ahk, 欢迎一起交流~        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/lizhe_617\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/lizhe_617/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/lizhe_617/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 10</a> · <a title=\"QQ：513278236\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：happy_lizhe\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "开发,StackOverflow,程序员", "front_image_path": "full/6759aa038e62cacdc963d45e570bcf45905a5731.jpg", "title": "Stack Overflow 与全民编程时代", "url": "http://blog.jobbole.com/110437/", "url_object_id": "48f025dd01cf69d9728b0108046bc4ca", "create_time": "2017/03/14", "comment_nums": 4, "fav_nums": 4}
{"front_image_url": ["http://wx2.sinaimg.cn/mw690/63918611gy1fd8s35oxc4j20hs0budga.jpg"], "praise_nums": "7", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/loadofwar\">loadofwar</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://www.ybrikman.com/writing/2014/05/29/must-see-tech-talks-for-every-programmer/\">Yevgeniy Brikman</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我喜欢优秀的技术演讲。我不仅喜欢观看这类演讲，并乐于与人分享。最近我有充足的空闲时间，于是整理出了一个“每个程序员必看<span class=\"s1\">”</span>的技术演讲列表。在选材时，我并没有把演讲的主题局限于具体的语言或库，而是选择了一些有宏观视野的内容，希望更能够被更多人所接受。</p>\n<p class=\"p1\">如果你觉得我漏掉了哪些你喜欢的演讲，请留言告诉我。 <span class=\"s1\">Happy watching!</span></p>\n<h2>一、The future of technology | 科技的未来</h2>\n<p>视频：<a href=\"https://youtu.be/gTAghAJcO1o\">https://youtu.be/gTAghAJcO1o</a></p>\n<p class=\"p2\">关于科技的未来，<span class=\"s1\"> Alan Kay </span>有着比其他人更深刻的思考。在 <a href=\"https://www.youtube.com/watch?v=gTAghAJcO1o\">这个演讲</a> 中，<span class=\"s1\">Kay </span>解释了施乐帕罗奥多研究中心是怎样在很短的一段时间内发明出如此多的新技术的。这些现在看来大名鼎鼎的技术包括了：个人电脑、位图显示、图形界面、桌面发布、文字处理、激光打印，以太网以及面向对象编程。</p>\n<p class=\"p2\"><em><img class=\"alignnone aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1fd8s35oxc4j20hs0budga.jpg\" width=\"640\" height=\"426\"></em></p>\n<p class=\"p2\" style=\"text-align: center;\"><em>（Alan Kay）</em></p>\n<p class=\"p2\">在 <span class=\"s1\">Kay </span>看来，实现这一成就的关键在于一种专注于创新的企业文化。这种文化注重从最基础的研究做起，而不是仅在已有的创新的基础上升级和改良。这类创新通常需要大量的金钱投入，长时间的研究周期以及独辟蹊径的问题解决方式综合作用才能取得成功。</p>\n<p class=\"p1\">关于未来科技趋势，另外一些重要的演讲：</p>\n<p>1. <a href=\"https://www.youtube.com/watch?v=yJDv-zdhzMY\">《The Mother of All Demos | 多媒体演示之祖》</a> 作者：<span class=\"s1\">Douglas Engelbart，鼠标之父的</span>一个多媒体演示视频。其中包括了对超链接、计算机制图、视频会议、鼠标、文字处理等等内容的演示。而这一切都发生在 <span class=\"s1\">1968 </span>年！这就是 <span class=\"s1\">Kay </span>在他演讲中引述的所谓跨时代式的创新。</p>\n<p><img class=\"alignnone aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1fd8s2ze9rbj20at0dcwf8.jpg\" width=\"389\" height=\"480\"></p>\n<p style=\"text-align: center;\"><em>（Douglas Engelbart）</em></p>\n<p class=\"p1\">2. <a href=\"http://worrydream.com/dbx/\">《The Future of Programming | 编程的未来》</a>  作者：<span class=\"s1\">Bret Victor</span>。<span class=\"s1\">Bret </span>在他的演讲中带领我们回顾了过去并提醒大家：对于一个需要创造力的人来说，最危险的情形莫过于他拥有了「我知道我正在干什么」这种想法。因为一旦有了这种想法，你就会失去通过寻找不同途径来解决一件事情的意愿，进而失去了这种能力。换句话说，在创新的世界里，你变瞎了。</p>\n<p class=\"p1\">3. <a href=\"https://www.youtube.com/watch?v=oKg1hTOQXoY\">《The Computer Revolution Hasn’t Happened Yet | 计算机革命尚未发生》</a>  作者：<span class=\"s1\">Alan Kay</span>。「我创造了『面向对象』这个词，而且我可以告诉你我根本没把 <span class=\"s1\">C++ </span>放在心上。」</p>\n<h2>二、User interface | 用户界面</h2>\n<p>视频：<a href=\"http://vimeo.com/36579366\">http://vimeo.com/36579366</a></p>\n<p class=\"p2\">听完 <span class=\"s1\"><a href=\"http://worrydream.com/\">Bret Victor</a> </span>的 <a href=\"http://vimeo.com/36579366\">这个演讲</a>， 你会觉得你所会的所有的编程语言和工具都 <span class=\"s1\">out </span>了。在这个演讲中，<span class=\"s1\"> Bret </span>展示了一个全新的代码编写方式。这种方式使你不必在脑中反复推演那些枯燥的逻辑。通过一种交互式界面，你可以直观的体验和感受到你的代码，计算机将替你完成其余沉闷的工作。这种方式不仅使学习编程变得更加简单，而且它从根本上改变了我们解决问题的方式。</p>\n<p class=\"p1\">另一些 <span class=\"s1\">UI </span>好货：</p>\n<p>1. <a href=\"http://vimeo.com/64895205\">《Stop Drawing Dead Fish | 别再画死鱼了》 </a>作者：<span class=\"s1\">Bret Victor</span>。用计算机为艺术带去生机。</p>\n<p class=\"p1\"><span style=\"color: #ff0000;\"><span style=\"color: #000000;\">2.</span> <a href=\"http://vimeo.com/67076984\">《Media Thinking for the Unthinkable | “图说”不可想》</a><span style=\"color: #000000;\">作者：</span></span><span class=\"s1\">Bret Victor</span>。为科学与工程学设计新的媒介。</p>\n<p class=\"p1\"><span class=\"s3\">3. <a href=\"https://www.youtube.com/watch?v=kzDpfk8YhlE\">《Doing With Images Makes Symbols | 用图像制造符号》</a></span><span class=\"s4\">。</span><span class=\"s1\">Alan Kay</span>。人类是怎样学习的以及怎样建立起能够支持这个学习方式的 <span class=\"s1\">UI</span>。「你身体里想学习的那部分不会说英语。」</p>\n<h2>三、Programming language design | 编程语言设计</h2>\n<p><img class=\"aligncenter\" src=\"http://www.ybrikman.com/assets/img/blog/tech-talks/simple-made-easy.png\" alt=\"Simple Made Easy by Rich Hickey\"></p>\n<p class=\"p2\"><span class=\"s1\"><a href=\"https://twitter.com/richhickey\">Rich Hickey</a>是 <a href=\"http://clojure.org/\">Clojure</a> </span>语言的开发者，将带领你从一个全新的角度去审视计算机科学的一些基本概念。复杂度 （<span class=\"s1\">Complexity</span>） 便是其中之一。<span class=\"s1\">Rich </span>将在 <a href=\"http://www.infoq.com/presentations/Simple-Made-Easy\">这个演讲</a> 中指出能定义这一概念的最好的一些工具和最好的一门语言。</p>\n<p class=\"p1\">其他一些演讲：</p>\n<p><span class=\"s4\"><span style=\"color: #ff0000;\"><span style=\"color: #000000;\">1.</span> <a href=\"http://www.infoq.com/presentations/Are-We-There-Yet-Rich-Hickey\">《Are We There Yet? | 我们距离未来还有多远？》</a><span style=\"color: #000000;\">。</span></span></span><span class=\"s1\">Rich Hickey</span>。另一个有关基本原则的讲座。<span class=\"s1\">Hickey </span>将带领你重新审视状态，时间，身份，值和类型等一系列基础概念。</p>\n<p class=\"p1\">2. <a href=\"https://www.youtube.com/watch?v=_ahvzDzKdB0\">《Growing a Language | 发展一门编程语言》</a>。<span class=\"s1\">Guy Steele</span>。这是我看过的有关编程语言最有智慧的演讲之一。虽然只有十几分钟，却回味无穷。</p>\n<p class=\"p1\">3. <a href=\"https://www.youtube.com/watch?v=3kEfedtQVOY\">《The Science of Insecurity | 有关不安全性的科学》</a>。<span class=\"s1\">Meredith Patterson</span>。为什么说现在的系统和协议都是与生俱来的不安全？以及我们在未来怎样修复这种不安全性。</p>\n<h2>四、Software engineering | 软件工程</h2>\n<p>视频：<a href=\"http://vimeo.com/9270320\">http://vimeo.com/9270320</a></p>\n<p class=\"p1\"><span class=\"s1\"><a href=\"http://third-bit.com/\">Greg Wilson</a> </span>将带领大家仔细审视我们在软件工程中是怎样制定决策的。在开发中，我们往往需要做出各种决定，例如是用 <span class=\"s1\">Java </span>还是 <span class=\"s1\">Ruby</span>？用 <span class=\"s1\">Play </span>框架或是 <span class=\"s1\">Rails </span>框架？是测试驱动开发还是敏捷开发？需不需要代码审查？等等。大多数情况下，我们对以上这些问题的答案通常只来源于一个单一的知识层面。比如说我们自己的想法，<span class=\"s4\">网络热点</span>，外部趋势亦或者是一些奇闻轶事。而 <a href=\"http://vimeo.com/9270320\">这个演讲</a> 提醒了我们应当改变这种实践方式，进而转向另一个以循证为基础的软件工程模式。</p>\n<p class=\"p1\">其他好的演讲：</p>\n<p>1. <a href=\"https://www.youtube.com/watch?v=NP9AIUT9nos\">《Real Software | 真<span class=\"s1\"> · </span>软件工程》</a>作者：<span class=\"s1\">Glenn Vanderburg</span>。 大学课堂里所教的软件工程知识基本是没用的。按照他们所教的方法开发软件系统，不仅不能保证产品质量，而且也无法有效控制成本。甚至有些时候，按照这些方法根本开发不出任何系统。</p>\n<p class=\"p1\">2. <a href=\"https://www.youtube.com/watch?v=f84n5oFoZBc\">《</a><a href=\"https://www.youtube.com/watch?v=f84n5oFoZBc\">Hammock Driven Development</a><a href=\"https://www.youtube.com/watch?v=f84n5oFoZBc\"> | 吊床驱动开发模式》</a>作者：<span class=\"s1\">Rich Hickey</span>。「绝大多数软件的重大缺陷通常都源于开发时错误的构想。」为了解决这种问题，开发者应该离开自己的电脑，并在一段时间内专注于构思软件，同时 <a href=\"http://www.ybrikman.com/writing/2014/05/05/you-are-what-you-document/\">记录</a> 好自己的想法。</p>\n<p class=\"p1\">3. <a href=\"https://www.youtube.com/watch?v=ROor6_NGIWU\">《The Language of the System | 系统的语言》</a>。<span class=\"s1\">Rich Hickey</span>。我们通常过于专注于开发出一个完美的编程语言，然后用它去构建一个系统。但是我们是否想过去开发一种能用于不同系统之间的通信的语言呢？</p>\n<h2>五、Computers and learning | 计算机与学习</h2>\n<p>视频：<a href=\"https://youtu.be/U6FvJ6jMGHU\">https://youtu.be/U6FvJ6jMGHU</a></p>\n<p class=\"p2\"><a href=\"http://en.wikipedia.org/wiki/Daphne_Koller\"><span class=\"s1\">Daphne Koller </span></a>和 <span class=\"s1\"><a href=\"http://en.wikipedia.org/wiki/Andrew_Ng\">Andrew Ng </a> </span>正在尝试着重新定义教育。他们创办了一个名为 <span class=\"s1\"><a href=\"https://www.coursera.org/\">Coursera</a> </span>的在线教育机构。这个机构致力于把那些真正的大学课程，通过互联网免费普及到全世界。<a href=\"https://www.youtube.com/watch?v=U6FvJ6jMGHU\">这个演讲</a> 中，他们讲解了一系列他们应用在这个为数十万学生服务的在线课堂上的技术。其中包括在线视频，交流论坛，交互式<span class=\"s1\">UI</span>，自动评分以及同学互评系统。通过 <span class=\"s1\">Coursera </span>的运作，我们还获得了一个前所未有的，观察人类学习方式的角度。</p>\n<p class=\"p1\">其他一些有关教育的重要演讲：</p>\n<p>1. <a href=\"https://www.youtube.com/watch?v=nTFEUsudhfs\">《Let’s use video to reinvent education | 让我们用视频改造教育》</a>作者：<span class=\"s1\">Salman Khan</span>。<span class=\"s1\">Koller </span>的演讲是关于大学教育的演讲。而 <span class=\"s1\">Khan </span>的演讲则讲述了怎样通过 <a href=\"https://www.khanacademy.org/\">可汗学院</a> 来为上大学前的学生们提供在线教育。</p>\n<p class=\"p1\">2. <a href=\"https://www.youtube.com/watch?v=Ia55clAtdMs\">《Teaching Creative Computer Science | 创造性计算机科学教育》</a>。 作者：<span class=\"s1\">Simon Peyton Jones</span>。每一个孩子都应该学习计算机科学，因为它能 <a href=\"http://www.ybrikman.com/writing/2014/05/19/dont-learn-to-code-learn-to-think/\">开阔他们的思路</a>。</p>\n<p class=\"p1\">3. <a href=\"http://www.infoq.com/presentations/Machine-Learning\">《Machine Learning | 机器学习，一个爱情故事》</a>。 作者：<span class=\"s1\">Hilary Mason</span>。当你们在谈论教书育人时我在谈论什么。</p>\n<h2>六、A career in programming | 以编程为业</h2>\n<p>视频：<a href=\"https://youtu.be/a1zDuOPkMSw\">https://youtu.be/a1zDuOPkMSw</a></p>\n<p class=\"p2\"><a href=\"https://www.youtube.com/watch?v=a1zDuOPkMSw\">这个演讲</a> 绘制了一幅能让你不仅在研究领域，而且在其他任何领域都能获得成功的职业蓝图。所以，基于这个事实，人们还给这个演讲起了一个别名：「你和你的事业」。「为什么只有少数科学家才能在科学发展的进程中做出巨大的贡献，而其他很多科学家却在这个过程中逐渐被遗忘？」在讲座中，<span class=\"s1\"><a href=\"http://en.wikipedia.org/wiki/Richard_Hamming\">Richard Hamming</a> </span>分享了他对这个问题的见解。他认为，其中最重要的因素包括了勇气，运气，动力（「知识和生产力像复利一样」），对重要问题的专注（「如果你不专注于重要问题，相当于你在做 无用功」），开放的思想，推销自己成果的能力（「我建议你在阅读一份期刊的时候想一想，为什么我能读到这些文章？」），等等。这个讲座应该让所有高中生都看一看。</p>\n<p class=\"p1\">更多编程领域成功学：</p>\n<p>1. <a href=\"https://www.youtube.com/watch?v=0SARbwvhupQ\">《The Myth of the Genius Programmer | 天才码农之谜》</a>。 作者：<span class=\"s1\">Brian Fitzpatrick </span>和 <span class=\"s1\">Ben Collins-Sussaman</span>。这不是一个有关天才程序员或 <a href=\"http://www.ybrikman.com/writing/2013/09/29/the-10x-developer-is-not-myth/\"><span class=\"s1\">10</span>倍速编程高手</a> 的故事。这个演讲的主题是关于怎样建立一个为个人发展，团队合作能提供有效支持的企业文化，进而避免精英主义气氛的产生。</p>\n<p class=\"p1\">2. <a href=\"https://www.youtube.com/watch?v=q-7l8cnpI4k\">《Programming Well With Others: Social Skills for Geeks | 与他人愉快的编程：技术宅的社交技巧指南》</a>。<span class=\"s1\">Brian Fitzpatrick </span>和 <span class=\"s1\">Ben Collins-Sussaman</span>。B<span class=\"s1\">B </span>组合再次联手告诉大家：一个成功的软件工程师的世界里不应该仅仅只有语言，编译器，调试器和算法。</p>\n<p class=\"p1\"><span class=\"s1\">3. <a href=\"https://www.youtube.com/watch?v=v0TFmdO4ZP0\">《JavaScript Masterclass | JavaScript </a></span><a href=\"https://www.youtube.com/watch?v=v0TFmdO4ZP0\">大师课》</a>。 作者：<span class=\"s1\">Angelina Fabbro。 </span>别让标题骗了你：这是一个让中级水平的程序员能就任何话题（不仅仅是 <span class=\"s1\">JavaScript</span>）都谈笑风生的简明教程。</p>\n<h2>七、Computer gaming | 电脑游戏</h2>\n<p>视频：<a href=\"https://youtu.be/dE1DuBesGYM\">https://youtu.be/dE1DuBesGYM</a></p>\n<p class=\"p2\">当一个孩子从高中毕业的时候，他已经花了 <span class=\"s1\">10000 </span>个小时在打游戏上面。这基本与他上学的时间相当（如果他从未缺课）。这些时间也足以让他们 <a href=\"http://en.wikipedia.org/wiki/Outliers_(book)\">在某一领域成为专家</a>。那在这 <span class=\"s1\">10000 </span>小时里他们究竟学到了什么？<span class=\"s1\"><a href=\"http://janemcgonigal.com/\">Jane McGonigal</a> </span>将为你展示怎样运用这些时间和学习的过程让世界变得更美好。</p>\n<p class=\"p1\">更多好“游戏”：</p>\n<p class=\"p1\">1. <a href=\"https://www.youtube.com/watch?v=lfBpsV1Hwqs\">《The game that can give you 10 extra years of life | 给了我<span class=\"s1\">10</span>年新生的那个游戏》</a>。 作者：<span class=\"s1\">Jane McGonigal</span>。一个振聋发聩的演讲，有关游戏是怎样改善了 <span class=\"s1\">Jane </span>的生活。并介绍了在她经历了剧烈的生活动荡后，游戏是怎样帮助她走出自杀阴霾的。</p>\n<p class=\"p1\">2. <a href=\"https://www.youtube.com/watch?v=qlzM3zcd-lk\">《Human Computation | 人体计算机》</a>。 作者：<span class=\"s1\">Luis von Ahn</span>。我们可以运用人脑的能力和一些游戏去解决那些对计算机来说都很难解决的问题。比如图像识别，翻译和一些「常识性问题」。</p>\n<p class=\"p1\">3. <a href=\"http://www.g4tv.com/videos/44277/dice-2010-design-outside-the-box-presentation/\">《Design Outside the Box | 创造性设计》</a>。 作者：<span class=\"s1\">Jesse Schell</span>。当游戏入侵了我们生活的方方面面之后会发生什么？</p>\n<h2>八、Fun Talks | 趣谈</h2>\n<p>视频：<a href=\"https://www.destroyallsoftware.com/talks/wat\">https://www.destroyallsoftware.com/talks/wat</a></p>\n<p class=\"p2\">现在是轻松一刻。<span class=\"s1\"><a href=\"https://twitter.com/garybernhardt\">Gary Bernhardt</a> </span>的 <span class=\"s1\">5 </span>分钟 <span class=\"s1\">Wat </span>小视频。 满满正能量。</p>\n<p class=\"p1\">其他的人生正能量罐：</p>\n<p>1. <a href=\"http://vimeo.com/95066828\">《Computers are a sadness, I am the cure | 计算机是忧伤的毒，我才是解药》</a>。 作者：<span class=\"s1\">James Mickens</span></p>\n<p class=\"p1\"><span class=\"s2\">2. <a href=\"https://www.youtube.com/watch?v=csyL9EC0S0c\">《Programming is terrible – lessons from a life wasted | 讨厌的编程</a></span><a href=\"https://www.youtube.com/watch?v=csyL9EC0S0c\"> – </a><span class=\"s2\"><a href=\"https://www.youtube.com/watch?v=csyL9EC0S0c\">一个废柴的人生课》</a>。 作者：</span>Thomas Figg</p>\n<p class=\"p1\">3. <a href=\"http://vimeo.com/43380467\">《The Web Will Die When OOP Dies | OOP<span class=\"s2\">如果死了，</span>Web</a><span class=\"s2\"><a href=\"http://vimeo.com/43380467\">还活着干什么》</a>。 作者：</span>Zed Shaw</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110432\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110432votetotal\">7</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110432\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 35 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/loadofwar\">loadofwar</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/loadofwar\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/loadofwar\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/loadofwar/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/loadofwar/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 16</a> · <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/loadofwar\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术,演讲", "front_image_path": "full/7dbf26b43d4fc0a77c5097a31418bc88b8225d07.jpg", "title": "推荐每个程序员都看的技术演讲", "url": "http://blog.jobbole.com/110432/", "url_object_id": "ae33c0f3432208201b74d3f85f553219", "create_time": "2017/03/02", "comment_nums": 2, "fav_nums": 35}
{"front_image_url": ["http://upload-images.jianshu.io/upload_images/2027339-d55a572b654ead80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"], "praise_nums": "4", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"><p><script src=\"http://www.imooc.com/open/courselistrandjs\"></script><span style=\"display:block;margin-bottom:10px;\"></span></p>\n</div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/lrysjtu\">下弦月</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>此项目是自己学习搜索引擎过程中的一些心得，在使用 Go 语言的时候，发现了悟空这个搜索引擎项目，结合此项目代码以及《信息检索导论》，自己对搜索引擎的原理是实现都有了一个初步的认识，然后结合工作中可能遇到的场景，做了一个简单的 Demo。</p>\n<p>写下这篇文章，可能比较啰嗦，希望帮助到需要的人。项目代码地址: <a href=\"https://github.com/LiuRoy/sakura\">https://github.com/LiuRoy/sakura</a></p>\n<h2 id=\"基础知识\">基础知识</h2>\n<h3 id=\"一个简单例子\">一个简单例子</h3>\n<p>假如有四个文档，分别代表四部电影的名字：</p>\n<ol>\n<li>The Shawshank Redemption</li>\n<li>Forrest Gump</li>\n<li>The Godfather</li>\n<li>The Dark Knight</li>\n</ol>\n<p>如果我们想根据这四个文档建立信息检索，即输入查找词就可以找到包含此词的所有电影，最直观的实现方式是建立一个矩阵，每一行代表一个词，每一列代表一个文档，取值1/0代表该此是否在该文档中。如下：</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2027339-d55a572b654ead80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n<p>如果输入是Dark，只需要找到Dark对应的行，选出值为1对应的文档即可。当输入是多个单词的时候，例如：The Gump，我们可以分别找到The和Gump对应的行：1011和0100，如果是想做AND运算（既包括The也包括Gump的电影），1011和0100按位与操作返回0000，即没有满足查询的电影；如果是OR运算（包括The或者包括Gump的电影），1011和0100按位与操作返回1111，这四部电影都满足查询。</p>\n<p>实际情况是我们需要检索的文档很多，一个中等规模的bbs网站发布的帖子可能也有好几百万，建立这么庞大的一个矩阵是不现实的，如果我们仔细观察这个矩阵，当数据量急剧增大的时候，这个矩阵是很稀疏的，也就是说某一个词在很多文档中不存在，对应的值为0，因此我们可以只记录每个词所在的文档id即可，如下：</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2027339-0e19ab4cf2121490.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n<p>查询的第一步还是找到每个查询词对应的文档列表，之后的AND或者OR操作只需要按照对应的文档id列表做过滤即可。实际代码中一般会保证此id列表有序递增，可以极大的加快过滤操作。上图中左边的每一个词叫做词项，整张表称作倒排索引。</p>\n<h3 id=\"实际搜索过程\">实际搜索过程</h3>\n<p>如果要实现一个搜索功能，一般有如下几个过程</p>\n<ul>\n<li>搜集要添加索引的文本，例如想要在知乎中搜索问题，就需要搜集所有问题的文本。</li>\n<li>文本的预处理，把上述的收集的文本处理成为一个个词项。不同语言的预处理过程差异很大，以中文为例，首先要把搜集到的文本做分词处理，变为一个个词条，分词的质量对最后的搜索效果影响很大，如果切的粒度太大，一些短词搜索正确率就会很低；如果切的粒度太小，长句匹配效果会很差。针对分词后的词条，还需要正则化：例如滤除停用词（例如：<code>的</code> <code>把</code> <code>并且</code>，一些几乎所有中文文档都包含的一些词，这些词对搜索结果没有实质性影响），去掉形容词后面的<code>的</code>字等。</li>\n<li>根据上一步的词项和文档建立倒排索引。实际使用的时候，倒排索引不仅仅只是文档的id，还会有其他的相关的信息：词项在文档中出现的次数、词项在文档中出现的位置、词项在文档中的域（以文章搜索举例，域可以代表标题、正文、作者、标签等）、文档元信息（以文章搜索举例，元信息可能是文章的编辑时间、浏览次数、评论个数等）等。因为搜索的需求各种各样，有了这些数据，实际使用的时候就可以把查询出来的结果按照需求排序。</li>\n<li>查询，将查询的文本做分词、正则化的处理之后，在倒排索引中找到词项对应的文档列表，按照查询逻辑进行过滤操作之后可以得到一份文档列表，之后按照相关度、元数据等相关信息排序展示给用户。</li>\n</ul>\n<h3 id=\"相关度\">相关度</h3>\n<p>文档和查询相关度是对搜索结果排序的一个重要指标，不同的相关度算法效果千差万别，针对同样一份搜索，百度和谷歌会把相同的帖子展示在不同的位置，极有可能就是因为相关度计算结果不一样而导致排序放在了不同的位置。</p>\n<p>基础的相关度计算算法有：TF-IDF，BM25 等，其中BM25 词项权重计算公式广泛使用在多个文档集和多个搜索任务中并获得了成功。尤其是在TREC 评测会议上，BM25 的性能表现很好并被多个团队所使用。由于此算法比较复杂，我也是似懂非懂，只需要记住此算法需要词项在文档中的词频，可以用来计算查询和文档的相关度，计算出来的结果是一个浮点数，这样就可以将用户最需要知道的文档优先返回给用户。</p>\n<h2 id=\"搜索引擎代码\">搜索引擎代码</h2>\n<p>悟空搜索（项目地址： <a href=\"https://github.com/huichen/wukong\">https://github.com/huichen/wukong</a>）是一款小巧而又性能优异的搜索引擎，核心代码不到2000行，带来的缺点也很明显：支持的功能太少。因此这是一个非常适合深入学习搜索引擎的例子，作者不仅给出了详细的中文文档，还在代码中标注了大量的中文注释，阅读源码不是太难，在此结合悟空搜索代码和搜索原理，深入的讲解搜索具体的实现。</p>\n<h3 id=\"索引\">索引</h3>\n<p>索引的核心代码在<a href=\"https://github.com/huichen/wukong/blob/master/core/indexer.go\">core/index.go</a>。</p>\n<h4 id=\"索引结构体\">索引结构体</h4>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d496c4e5a89079560917\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// 索引器\r\ntype Indexer struct {\r\n    // 从搜索键到文档列表的反向索引\r\n    // 加了读写锁以保证读写安全\r\n    tableLock struct {\r\n        sync.RWMutex\r\n        table     map[string]*KeywordIndices\r\n        docsState map[uint64]int // nil: 表示无状态记录，0: 存在于索引中，1: 等待删除，2: 等待加入\r\n    }\r\n    addCacheLock struct {\r\n        sync.RWMutex\r\n        addCachePointer int\r\n        addCache        types.DocumentsIndex\r\n    }\r\n    removeCacheLock struct {\r\n        sync.RWMutex\r\n        removeCachePointer int\r\n        removeCache        types.DocumentsId\r\n    }\r\n\r\n    initOptions types.IndexerInitOptions\r\n    initialized bool\r\n\r\n    // 这实际上是总文档数的一个近似\r\n    numDocuments uint64\r\n\r\n    // 所有被索引文本的总关键词数\r\n    totalTokenLength float32\r\n\r\n    // 每个文档的关键词长度\r\n    docTokenLengths map[uint64]float32\r\n}\r\n\r\n// 反向索引表的一行，收集了一个搜索键出现的所有文档，按照DocId从小到大排序。\r\ntype KeywordIndices struct {\r\n    // 下面的切片是否为空，取决于初始化时IndexType的值\r\n    docIds      []uint64  // 全部类型都有\r\n    frequencies []float32 // IndexType == FrequenciesIndex\r\n    locations   [][]int   // IndexType == LocationsIndex\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5a89079560917-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5a89079560917-40\">40</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-1\"><span class=\"crayon-c\">// 索引器</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-2\"><span class=\"crayon-e\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Indexer</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 从搜索键到文档列表的反向索引</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 加了读写锁以保证读写安全</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">tableLock</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sync</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">RWMutex</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-7\"><span class=\"crayon-e\">        </span><span class=\"crayon-e\">table     </span><span class=\"crayon-v\">map</span><span class=\"crayon-sy\">[</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">*</span><span class=\"crayon-e\">KeywordIndices</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-8\"><span class=\"crayon-e\">        </span><span class=\"crayon-e\">docsState </span><span class=\"crayon-v\">map</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">uint64</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// nil: 表示无状态记录，0: 存在于索引中，1: 等待删除，2: 等待加入</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">addCacheLock</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sync</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">RWMutex</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-12\"><span class=\"crayon-e\">        </span><span class=\"crayon-e\">addCachePointer </span><span class=\"crayon-t\">int</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">addCache        </span><span class=\"crayon-v\">types</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">DocumentsIndex</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">removeCacheLock</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-16\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sync</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">RWMutex</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-17\"><span class=\"crayon-e\">        </span><span class=\"crayon-e\">removeCachePointer </span><span class=\"crayon-t\">int</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-18\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">removeCache        </span><span class=\"crayon-v\">types</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">DocumentsId</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-19\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-20\"> </div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">initOptions </span><span class=\"crayon-v\">types</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">IndexerInitOptions</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-22\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">initialized </span><span class=\"crayon-t\">bool</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-23\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-24\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 这实际上是总文档数的一个近似</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-25\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">numDocuments </span><span class=\"crayon-v\">uint64</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-26\"> </div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-27\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 所有被索引文本的总关键词数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-28\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">totalTokenLength </span><span class=\"crayon-v\">float32</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-29\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-30\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 每个文档的关键词长度</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-31\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">docTokenLengths </span><span class=\"crayon-v\">map</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">uint64</span><span class=\"crayon-sy\">]</span><span class=\"crayon-i\">float32</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-32\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-33\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-34\"><span class=\"crayon-c\">// 反向索引表的一行，收集了一个搜索键出现的所有文档，按照DocId从小到大排序。</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-35\"><span class=\"crayon-e\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">KeywordIndices</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">struct</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-36\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 下面的切片是否为空，取决于初始化时IndexType的值</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-37\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">docIds</span><span class=\"crayon-h\">      </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-v\">uint64</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// 全部类型都有</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-38\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">frequencies</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-v\">float32</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// IndexType == FrequenciesIndex</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5a89079560917-39\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">locations</span><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\">   </span><span class=\"crayon-c\">// IndexType == LocationsIndex</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5a89079560917-40\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0035 seconds] -->\r\n\n</div>\n<p><code>tableLock</code>中的table就是倒排索引，map中的key即是词项，value就是该词项所在的文档列表信息，<code>keywordIndices</code>包括三部分：文档id列表（保证docId有序）、该词项在文档中的频率列表、该词项在文档中的位置列表，当<code>initOptions</code>中的<code>IndexType</code>被设置为<code>FrequenciesIndex</code>时，倒排索引不会用到<code>keywordIndices</code>中的locations，这样可以减少内存的使用，但不可避免地失去了基于位置的排序功能。</p>\n<p>由于频繁的更改索引会造成性能上的急剧下降，悟空在索引中加入了缓存功能。如果要新加一个文档至引擎，会将文档信息加入<code>addCacheLock</code>中的<code>addCahe</code>中，<code>addCahe</code>是一个数组，存放新加的文档信息。如果要删除一个文档，同样也是先将文档信息放入<code>removeCacheLock</code>中的<code>removeCache</code>中，<code>removeCache</code>也是一个数组，存放需要删除的文档信息。只有在对应缓存满了之后或者触发强制更新的时候，才会将缓存中的数据更新至倒排索引。</p>\n<h4 id=\"添加删除文档\">添加删除文档</h4>\n<p>添加新的文档至索引由函数<code>AddDocumentToCache</code>和<code>AddDocuments</code>实现，从索引中删除文档由函数<code>RemoveDocumentToCache</code>和<code>RemoveDocuments</code>实现。因为代码较长，就不贴在文章里面，感兴趣的同学可以结合代码和下面的讲解，更深入的了解实现方法。</p>\n<h5 id=\"删除文档\">删除文档</h5>\n<ol>\n<li><code>RemoveDocumentToCache</code>首先检查索引是否已经存在docId，如果存在，将文档信息加入<code>removeCache</code>中，并将此docId的文档状态更新为1（待删除）；如果索引中不存在但是在<code>addCahe</code>中，则只是把文档状态更新为1（待删除）。</li>\n<li>如果<code>removeCache</code>已满或者是外界强制更新，则会调用<code>RemoveDocuments</code>将<code>removeCache</code>中要删除的文档从索引中抹除。</li>\n<li><code>RemoveDocuments</code>会遍历整个索引，如果发现词项对应的文档信息出现在<code>removeCache</code>中，则抹去<code>table</code>和<code>docState</code>中相应的数据。</li>\n</ol>\n<p>备注：<code>removeCache</code>和<code>docIds</code>均已按照文档id排好序，所以<code>RemoveDocuments</code>可以以较高的效率快速找到需要删除的数据。</p>\n<h5 id=\"添加文档\">添加文档</h5>\n<ol>\n<li><code>AddDocumentToCache</code>首先会将需要添加的文档信息放入到<code>addCahe</code>中，如果缓存已满或者是强制更新，则会遍历<code>addCache</code>，如果索引中存在此文档，则把该文档状态置为1（待删除），否则置为2（新加）并将状态为1（待删除）的文档数据放在<code>addCache</code>列表前面，<code>addCache</code>列表后面都是需要直接更新的文档数据。</li>\n<li>调用<code>RemoveDocumentToCache</code>更新索引，如果更新成功，则把<code>addCache</code>中所有的数据调用<code>AddDocuments</code>添加至索引，否则只会把<code>addCache</code>中状态为2（新加）的文档调用<code>AddDocuments</code>添加至索引。</li>\n<li><code>AddDocuments</code>遍历每个文档的词项，更新对应词项的<code>KeywordIndices</code>数据，并保证<code>KeywordIndices</code>文档id有序。</li>\n</ol>\n<p>备注：第二步相同的文档只会将最后一条添加的文档更新至索引，避免了缓存中频繁添加删除可能造成的问题。</p>\n<h4 id=\"搜索实现\">搜索实现</h4>\n<p>从上面添加删除文档的操作可以发现，真正有效的数据是<code>tableLock</code>中的<code>table</code>和<code>docState</code>，其他的数据结构均是出于性能方面的妥协而添加的一些缓存。查询的函数<code>Lookup</code>也只是从这两个map中找到相关数据并进行排序。</p>\n<ol>\n<li>合并搜索关键词和标签词，从<code>table</code>中找到这些词对应的所有<code>KeywordIndices</code>数据</li>\n<li>从上面的<code>KeywordIndices</code>数据中找出所有公共的文档，并根据文档词频和位置信息计算bm25和位置数据。</li>\n</ol>\n<h3 id=\"代码架构\">代码架构</h3>\n<p>悟空使用了很多异步的方式提高运行效率，针对我们开发高效的代码很有借鉴意义。项目文档里面有一份粗略的架构图，我根据<a href=\"https://github.com/LiuRoy/wukong/tree/master/engine\">engine</a>源码，画出了一份详细的架构图。下面就以接口为粒度讲解具体的执行流程。</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2027339-268a38e2db39cd41.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n<p>备注：圆柱体代表管道，矩形代表worker。</p>\n<h4 id=\"初始化引擎\">初始化引擎</h4>\n<p>这部分体现在图最上面的<code>persistentStorageInitWorker</code>和<code>persistentStorageInitChannel</code>，如果指定了索引的持久化数据库的信息，在引擎启动的时候，会异步调用<code>persistentStorageInitWorker</code>，这个routine会将持久化的索引数据（所有storage shard）加载到内存中，加载完毕后通过<code>persistentStorageInitChannel</code>通知主routine.</p>\n<h4 id=\"添加文档-1\">添加文档</h4>\n<p><code>IndexDocument</code>是对外的添加文档的接口，当此接口执行的时候，先将需要分词的文本放入管道<code>segmenterChannel</code>，<code>segmentWorker</code>从<code>segmenterChannel</code>取出文本做分词处理，然后将分词的结果均匀的分配到各个shard对应的<code>indexerAddDocChannels</code>和<code>rankerAddDocChannels</code>，<code>indexerAddDocumentWorker</code>和<code>rankerAddDocWorker</code>分别从上面两个管道中取出数据更新索引数据和排序数据。</p>\n<p>如果设置了持久化数据，<code>IndexDocument</code>还会将文档数据均匀的放入到各个storage shard的<code>persistentStorageIndexDocumentChannels</code>中，<code>persistentStorageIndexDocumentWorker</code>负责将管道中的文档数据持久化到文件中。</p>\n<h4 id=\"删除文档-1\">删除文档</h4>\n<p><code>RemoveDocument</code>是对外的删除文档的接口，当接口执行的时候，找到文档所在的shard，然后将请求放入<code>indexerRemoveDocChannels</code>和<code>rankerRemoveDocChannels</code>，<code>indexerRemoveDocWorker</code>和<code>rankerRemoveDocWorker</code>分别监听上面两个管道，清除索引数据和排序数据。</p>\n<h4 id=\"查询\">查询</h4>\n<p><code>search</code>是对外的搜索接口，它会针对所有的shard里的<code>indexerLookupChannels</code>发送请求数据，之后阻塞在监听<code>rankerReturnChannel</code>这一步，<code>indexerLookupWorker</code>会调用函数<code>Lookup</code>从倒排索引中找到制定的文档，如果不要求排序，直接将数据放入<code>rankerReturnChannel</code>，否则将数据交给<code>rankerRankChannels</code>，然后由<code>rankerRankWorker</code>排完序再放入<code>rankerReturnChannel</code>。当<code>search</code>发现所有数据都返回之后，再将各个shard的数据做一次排序，然后返回。</p>\n<h4 id=\"总结\">总结</h4>\n<p>由架构图可以很清晰地看出整个运行流程，同时知道此引擎无法分布式部署。如果需要做分布式部署，需要将每个shard作为一个独立的进程，而且上层有一个类似网管的进程做数据分发和汇总操作。</p>\n<h2 id=\"实例讲解\">实例讲解</h2>\n<p>为了方便自己和大家的使用，我写了一个比较简单的例子，用orm的callback方式更新搜索引擎。</p>\n<h3 id=\"数据准备\">数据准备</h3>\n<p>文档数据是我从知乎的恋爱和婚姻话题爬取的精品回复，大概有1800左右回复，包括问题标题，回复正文，点赞个数以及问题标签，下载链接：<a href=\"https://github.com/LiuRoy/sakura/blob/master/spider/tables.sqlite\">https://github.com/LiuRoy/sakura/blob/master/spider/tables.sqlite</a>，存储格式为sqlite，数据如下：</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2027339-5d07aa4f8e049261.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n<p>对如何爬取的同学可以参看代码<a href=\"https://github.com/LiuRoy/sakura/blob/master/spider/crawl.py\">https://github.com/LiuRoy/sakura/blob/master/spider/crawl.py</a>，执行如下命令直接运行</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-58d496c4e5aa6298588847\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd sakura/spider/\r\npip install -r requirement\r\npython scrawl.py</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5aa6298588847-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-58d496c4e5aa6298588847-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-58d496c4e5aa6298588847-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-58d496c4e5aa6298588847-1\"><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">sakura</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spider</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-58d496c4e5aa6298588847-2\"><span class=\"crayon-e\">pip </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">requirement</span></div><div class=\"crayon-line\" id=\"crayon-58d496c4e5aa6298588847-3\"><span class=\"crayon-e\">python </span><span class=\"crayon-v\">scrawl</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">py</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n\n</div>\n<h3 id=\"启动引擎\">启动引擎</h3>\n<p>用上一步爬取的数据构建一个搜索引擎，代码参考<a href=\"https://github.com/LiuRoy/sakura/blob/master/search/server.go\">server.go</a>，在运行之前需要自己配置一下词典以及数据路径，悟空提供了一份分词词典和停用词列表，配置完成后运行<code>go run server.go</code>启动服务，然后通过浏览器就可以使用搜索服务了。</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2027339-8f98d19c83f3fb66.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n<h3 id=\"更新索引\">更新索引</h3>\n<p>一般搜索服务的数据都是动态变化的，如何在数据频繁变动的时候以最简单的方式更新索引呢？我能想到的方法有如下几种：</p>\n<ol>\n<li>定时全量更新索引</li>\n<li>定时查找数据库修改数据，将修改的数据更新至索引</li>\n<li>读取数据库binlog，将数据变动实时更新到索引</li>\n<li>每次数据库变更时，通过接口调用或者队列的方式通知搜索引擎修改索引</li>\n</ol>\n<p>我采用了第四种方式做了一个demo，代码参考<a href=\"https://github.com/LiuRoy/sakura/blob/master/sender/sender.go\">sender.go</a>，为了避免代码耦合，通过orm的callback方式将修改的数据通过zeromq消息队列发送给搜索服务，搜索服务有一个goroutine来消费数据并更改索引，当执行<code>go run sender.go</code>后，新建的一条数据就可以马上被索引到。</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2027339-3892591bb32a0ed0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"></p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏作者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我写出更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/3772e9938a766bc36c18e639f26c633c.png\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110293\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110293votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110293\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 11 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/lrysjtu\">下弦月</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/lrysjtu\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/07/78805a221a988e79ef3f42d7c5bfd4187.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            life is short, I don\\'t know how to choose.        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/lrysjtu\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/lrysjtu/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/lrysjtu/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 8</a> · <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/LiuRoy\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术,Go,搜索引擎", "front_image_path": "full/98e3bd6f4140bfe6837e1b78ffaf6084e77b37dd.jpg", "title": "搜索引擎原理及使用", "url": "http://blog.jobbole.com/110293/", "url_object_id": "501399bd41f6d3b9c14f37283d827dfe", "create_time": "2017/03/03", "comment_nums": 0, "fav_nums": 11}
